import{j as l,r as N,a as H,k as _,b0 as rr,a$ as or,aq as er,w as $,bg as P,p as m}from"./main-677.js";import{D as tr}from"./bf-8-69.js";import{C as A,$ as U}from"./bf-417-108.js";import{S as lr,G as L}from"./bf-493-110.js";var T;(function(r){r.PageUp="PageUp",r.PageDown="PageDown",r.End="End",r.Home="Home",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Tab="Tab"})(T||(T={}));function I(r=0,n,o=0){return r<o?o:r>n?n:r}const sr=r=>{const{r:n,g:o,b:s}=(({r:j,g:f,b:E})=>({r:I(j,255,0),g:I(f,255,0),b:I(E,255,0)}))(r);let e=n/255,a=o/255,i=s/255,t=Math.max(e,a,i),h=t-Math.min(e,a,i),p=0,x=0,V=0;return h&&(t===e&&(p=(a-i)/h),t===a&&(p=2+(i-e)/h),t===i&&(p=4+(e-a)/h),t&&(x=h/t)),p=60*p|0,p<0&&(p+=360),x=100*x|0,V=100*t|0,{h:p,s:x,v:V}},O=({r,g:n,b:o},s=!0)=>(s?"#":"")+((1<<24)+(r<<16)+(n<<8)+o).toString(16).slice(1),ar=({r,g:n,b:o,a:s})=>typeof s=="number"&&isNaN(s)===!1?`rgba(${r}, ${n}, ${o}, ${I(s,100,0)/100})`:`rgb(${r}, ${n}, ${o})`,nr=r=>r.a<100?ar(r):O(r),cr=({h:r,s:n,l:o})=>{let s=o/100,e=n/100*(1-Math.abs(2*s-1)),a=r/60,i=e*(1-Math.abs(a%2-1)),t=s-e/2;return e=255*(e+t)|0,i=255*(i+t)|0,t=255*t|0,a>=0&&a<1?{r:e,g:i,b:t}:a>=1&&a<2?{r:i,g:e,b:t}:a>=2&&a<3?{r:t,g:e,b:i}:a>=3&&a<4?{r:t,g:i,b:e}:a>=4&&a<5?{r:i,g:t,b:e}:a>=5&&a<6?{r:e,g:t,b:i}:{r:0,g:0,b:0}};function ir(r){return r?D(r)||function(o){if(o[0]==="#"&&o.length===7&&/^#[\da-fA-F]{6}$/.test(o))return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:100}}(r)||function(o){if(o[0]==="#"&&o.length===4&&/^#[\da-fA-F]{3}$/.test(o))return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:100}}(r)||function(o){const s=o.match(/^hsl(a?)\(([\d., ]+)\)$/);if(s){const e=!!s[1],a=e?4:3,i=s[2].split(/ *, */).map(Number);if(i.length===a){const t=cr({h:i[0],s:i[1],l:i[2]});return t.a=e?100*i[3]:100,t}}}(r)||function(o){if(typeof document=="undefined")return;const s=document.createElement("div");s.style.backgroundColor=o,s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",s.style.height="1px",s.style.width="1px",document.body.appendChild(s);const e=getComputedStyle(s),a=e&&e.backgroundColor;if(document.body.removeChild(s),a==="rgba(0, 0, 0, 0)"||a==="transparent"){switch(o.trim()){case"transparent":case"#0000":case"#00000000":return{r:0,g:0,b:0,a:0}}return}return D(a)}(r):void 0}function D(r){if(!r)return;const n=r.match(/^rgb(a?)\(([\d., ]+)\)$/);if(n){const o=!!n[1],s=o?4:3,e=n[2].split(/ *, */).map(Number);if(e.length===s)return{r:e[0],g:e[1],b:e[2],a:o?100*e[3]:100}}}function k(r){const n=ir(r);if(n)return Object.assign(Object.assign({},(({r:o,g:s,b:e,a})=>{const{h:i,s:t,v:h}=sr({r:o,g:s,b:e});return{r:o,g:s,b:e,a,h:i,s:t,v:h,hex:O({r:o,g:s,b:e},!1),str:nr({r:o,g:s,b:e,a})}})(n)),{str:r})}function fr({size:r=32}){return l.jsx("svg",{width:r,height:r,viewBox:"0 0 24 24",children:l.jsx("path",{fill:"currentColor",d:"M3 16c0 2.8 2.2 5 5 5h2v-2H8c-1.7 0-3-1.3-3-3v-2H3v2m18-8c0-2.8-2.2-5-5-5h-2v2h2c1.7 0 3 1.3 3 3v2h2V8m-5 13c2.8 0 5-2.2 5-5v-2h-2v2c0 1.7-1.3 3-3 3h-2v2h2M8 3C5.2 3 3 5.2 3 8v2h2V8c0-1.7 1.3-3 3-3h2V3H8Z"})})}function wr({size:r=20,className:n}){return l.jsx("svg",{width:r,height:r,viewBox:"0 0 11 12",stroke:"#b0b0b0",className:n,children:l.jsx("path",{d:"M10.5 10.7679C10.5 10.5134 10.4181 10.2693 10.2722 10.0894C10.1263 9.90944 9.9285 9.80835 9.72222 9.80835L4.38889 9.80835C3.77005 9.80835 3.17656 9.50507 2.73897 8.96524C2.30139 8.42541 2.05556 7.69324 2.05556 6.9298L2.05556 1.58391C2.05556 1.32943 1.97361 1.08537 1.82775 0.905428C1.68189 0.725483 1.48406 0.624391 1.27778 0.624391C1.0715 0.624391 0.873667 0.725483 0.727805 0.905428C0.581944 1.08537 0.5 1.32943 0.5 1.58391L0.5 6.9298C0.501235 8.20173 0.911353 9.42113 1.64039 10.3205C2.36943 11.2199 3.35787 11.7259 4.38889 11.7274L9.72222 11.7274C9.9285 11.7274 10.1263 11.6263 10.2722 11.4463C10.4181 11.2664 10.5 11.0223 10.5 10.7679Z",fill:"#9E9E9E"})})}const br={container:{flx:"align-center",jc:"flex-end"},title:{fs:12},segmentcontainer:{flx:"align-center",jc:"flex-end",flxp:"wrap",gap:"5px",mt:10}};function gr({action:r,value:n,objectPaths:o,canSetVariable:s}){const{css:e}=H(),[a,i]=_(rr),[t,h]=N.useState(()=>k(n.replace("!important","").trim())),p=typeof t=="string",[x,V]=N.useState(p?"Var":"Custom"),[j,f]=_(or),[E,R]=_(er),G=[{label:"Custom",icn:"Custom color",show:["icn"],tip:"Custom color"},{label:"Var",icn:"Variables",show:["icn"],tip:"Variable color"}],{"--global-bg-color":K,"--global-fld-bdr-clr":Y,"--global-fld-bg-color":J,"--global-font-color":Q,"--global-accent-color":q}=j,Z=()=>{var d;const b=E.fields[o.fk].classes[o.selector][o.property];if(b===void 0)return"hsla(0, 0%, 100%, 100%)";if(((d=b.match(/var/g))==null?void 0:d[0])==="var"){const w=b.replace(/\(|var|,.*|\)/gi,"");return a[w]}return b};N.useEffect(()=>{if(!p&&r.type)switch(r.type){case"global-accent-color":case"global-font-color":return h(k(j["--global-font-color"]));case"global-fld-bdr-clr":return h(k(j["--global-fld-bdr-clr"]));case"individul-color":return h(k(Z()));default:return h(k(a[`--${r.type}`]))}},[r]);const W=()=>{const[b,d,w]=P(t.h,t.s,t.v);if(!r.type)return;const M=Math.round(b||0),y=Math.round(d),B=Math.round(w),S=t.a||100,C=`hsla(${M}, ${y}%, ${B}%, ${S}%)`;switch(r.type){case"global-accent-color":f(g=>m(g,c=>{c["--global-accent-color"]=C,c["--gah"]=M,c["--gas"]=`${y}%`,c["--gal"]=`${B}%`,c["--gaa"]=`${S}%`}));break;case"global-font-color":f(g=>m(g,c=>{c["--global-font-color"]=C,c["--gfh"]=Math.round(b),c["--gfs"]=`${y}%`,c["--gfl"]=`${B}%`,c["--gfa"]=`${S}%`}));break;case"global-bg-color":f(g=>m(g,c=>{c["--global-bg-color"]=C,c["--gbg-h"]=Math.round(b),c["--gbg-s"]=`${y}%`,c["--gbg-l"]=`${B}%`,c["--gbg-a"]=`${S}%`}));break;case"global-fld-bdr-clr":f(g=>m(g,c=>{c["--global-fld-bdr-clr"]=C}));break;case"global-fld-bg-color":f(g=>m(g,c=>{c["--global-fld-bg-color"]=C}));break;case"fw-bg":f(g=>m(g,c=>{c["--fld-wrp-bg"]=C}));break;case"individul-color":R(g=>m(g,c=>{c.fields[o.fk].classes[o.selector][o.property]=C}));break;default:return i(g=>m(g,c=>{c[`--${r.type}`]=C}))}},z=()=>{if(!r.type)return;const b=`var(${t})`;switch(r.type){case"global-fld-bdr-clr":f(d=>m(d,w=>{w["--global-fld-bdr-clr"]=b}));break;default:return i(d=>m(d,w=>{w[`--${r.type}`]=b}))}};N.useEffect(()=>{p?z():t&&W()},[t]);const X=b=>{let d="";if(typeof b=="string")d=`var(${b})`;else{const[w,M,y]=P(b.h,b.s,b.v);d=`hsla(${Math.round(w||0)}, ${Math.round(M)}%, ${Math.round(y)}%, ${b.a||100}%)`}r.onChange(d)},v=b=>{h(b),r.onChange&&X(b)};return l.jsx("div",{className:e(u.preview_wrp),children:s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:e(br.titlecontainer,u.mb),children:l.jsx(lr,{square:!0,noShadow:!0,defaultActive:"Var",options:G,size:60,component:"button",onChange:b=>V(b),show:["icn"],variant:"lightgray",width:"100%",wideTab:!0})}),l.jsx(L,{open:x==="Var",children:l.jsxs("div",{className:e(u.varClr),children:[l.jsxs("button",{className:`${e(u.clrItem)} ${e(t==="--global-bg-color"&&u.active)}`,type:"button",onClick:()=>v("--global-bg-color"),children:[l.jsx(A,{bg:K,className:e($.mr2)}),l.jsx("span",{children:"Background Color"})]}),l.jsxs("button",{className:e(u.clrItem,t==="--global-accent-color"&&u.active),type:"button",onClick:()=>v("--global-accent-color"),children:[l.jsx(A,{bg:q,className:e($.mr2)}),l.jsx("span",{children:"Background Accent Color"})]}),l.jsxs("button",{className:e(u.clrItem,t==="--global-font-color"&&u.active),type:"button",onClick:()=>v("--global-font-color"),children:[l.jsx(A,{bg:Q,className:e($.mr2)}),l.jsx("span",{children:"Font Color"})]}),l.jsxs("button",{className:e(u.clrItem,t==="--global-fld-bdr-clr"&&u.active),type:"button",onClick:()=>v("--global-fld-bdr-clr"),children:[l.jsx(A,{bg:Y,className:e($.mr2)}),l.jsx("span",{children:"Field Border Color"})]}),l.jsxs("button",{className:e(u.clrItem,t==="--global-fld-bg-color"&&u.active),type:"button",onClick:()=>v("--global-fld-bg-color"),children:[l.jsx(A,{bg:J,className:e($.mr2)}),l.jsx("span",{children:"Field Background Color"})]})]})}),l.jsx(L,{open:x==="Custom",children:l.jsx(U,{showParams:!0,showPreview:!0,onChange:v,value:t})})]}):l.jsx(U,{showParams:!0,showPreview:!0,onChange:v,value:t})})}var hr=N.memo(gr);const u={preview_wrp:{'& div[role="group"]':{p:4,b:0},"& input":{brs:8,b:"1px solid lightgray",p:"3px 8px",mnh:"10px !important",fs:12,mb:3,bs:"none",":focus":{focusShadow:1,b:"1px solid var(--b-50)"}},"& .common-module_transBackground__2AOKu":{brs:8,ow:"hidden"},mnw:230,py:5},color:{w:30,h:30,brs:8,mr:10},bggrid:{bi:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2N89erVfwY0ICYmxoguxjgUFKI7GsTH5m4M3w1ChQC1/Ca8i2n1WgAAAABJRU5ErkJggg==)"},varClr:{my:5},active:{bcr:"var(--b-50) !important",bd:"#f3f8ff"},clrItem:{dy:"block",flx:"align-center",bd:"transparent",b:"2px solid var(--white-0-93)",p:3,mb:8,brs:10,fs:12,cur:"pointer",w:"100%",tn:"background .3s",":hover":{bd:"var(--white-0-97)"}},m:{mr:15},mb:{mb:5}};function Cr({action:r,value:n}){const{css:o}=H();return l.jsx("div",{className:o(F.preview_wrp),children:l.jsxs(tr,{place:"right-start",arrow:!1,trigger:"click",children:[l.jsxs("button",{type:"button",className:o(F.pickrBtn),children:[l.jsx(A,{bg:n,h:25,w:25,className:o($.mr2)}),l.jsx("span",{className:o(F.clrVal),children:n==null?void 0:n.replace(/\(|var|\)/gi,"")})]}),l.jsx(hr,{action:r,value:n})]})})}const F={preview_wrp:{bd:"var(--white-0-95)",w:130,mnw:130,brs:10,p:3,flx:"center-between"},preview:{w:25,h:25,b:"1px solid gray",brs:7,curp:1,mr:7},clearBtn:{brs:"50%",w:20,h:20,b:"none",flx:"center",bd:"transparent",cr:"var(--white-0-50)",curp:1,":hover":{cr:"var(--black-0)"}},pickrBtn:{b:"none",curp:1,flx:"center",bd:"transparent",p:0},clrVal:{fs:12,w:90,ws:"nowrap",textOverflow:"ellipsis",ta:"left",ow:"hidden"}};export{wr as B,k as N,Cr as S,fr as a};
