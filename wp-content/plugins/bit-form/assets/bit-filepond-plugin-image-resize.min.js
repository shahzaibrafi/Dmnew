var bit_filepond_plugin_image_resize=function(){"use strict";const e=({addFilter:e,utils:t})=>{const{Type:i}=t;return e("DID_LOAD_ITEM",((e,{query:t})=>new Promise(((i,n)=>{const r=e.file;if(!(e=>/^image/.test(e.type))(r)||!t("GET_ALLOW_IMAGE_RESIZE"))return i(e);const l=t("GET_IMAGE_RESIZE_MODE"),o=t("GET_IMAGE_RESIZE_TARGET_WIDTH"),a=t("GET_IMAGE_RESIZE_TARGET_HEIGHT"),E=t("GET_IMAGE_RESIZE_UPSCALE");if(null===o&&null===a)return i(e);const u=null===o?a:o,s=null===a?u:a,d=URL.createObjectURL(r);((e,t)=>{let i=new Image;i.onload=()=>{const e=i.naturalWidth,n=i.naturalHeight;i=null,t({width:e,height:n})},i.onerror=()=>t(null),i.src=e})(d,(t=>{if(URL.revokeObjectURL(d),!t)return i(e);let{width:n,height:r}=t;const o=(e.getMetadata("exif")||{}).orientation||-1;if(o>=5&&o<=8&&([n,r]=[r,n]),n===u&&r===s)return i(e);if(!E)if("cover"===l){if(n<=u||r<=s)return i(e)}else if(n<=u&&r<=u)return i(e);e.setMetadata("resize",{mode:l,upscale:E,size:{width:u,height:s}}),i(e)}))})))),{options:{allowImageResize:[!0,i.BOOLEAN],imageResizeMode:["cover",i.STRING],imageResizeUpscale:[!0,i.BOOLEAN],imageResizeTargetWidth:[null,i.INT],imageResizeTargetHeight:[null,i.INT]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e}();
