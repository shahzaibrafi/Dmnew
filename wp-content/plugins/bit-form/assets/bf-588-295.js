import{v as I,a as v,t as y,r as i,j as t,S as b,_ as d}from"./main-677.js";/* empty css          */import{S as _}from"./bf-63-135.js";import{b as w}from"./bf-67-72.js";import{I as k}from"./bf-888-333.js";import{N}from"./bf-526-402.js";import P from"./bf-651-250.js";import{c as C}from"./bf-219-377.js";import{S as E}from"./bf-716-378.js";import"./bf-288-77.js";import"./bf-44-197.js";import"./bf-610-73.js";import"./bf-8-69.js";import"./bf-320-401.js";import"./bf-743-127.js";import"./bf-648-122.js";import"./bf-878-130.js";function V({formFields:c,setIntegration:u,integrations:f,allIntegURL:g}){const x=I();v();const{formID:n}=y(),[a,o]=i.useState(!1),[s,m]=i.useState(1),[S,r]=i.useState({show:!1}),[h,l]=i.useState({templateId:"",RedirectionUrl:""}),[e,p]=i.useState({name:"Brevo(SendinBlue) API",type:"Brevo(SendinBlue)",lists:[],api_key:"",field_map:[{formField:"",sendinBlueField:""}],actions:{}}),B=j=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),j===3){if(e.templateId===""||e.redirectionUrl===""){l({templateId:e.templateId?"":d("Template name cann't be empty"),redirectionUrl:e.redirectionUrl?"":d("Redirection url name cann't be empty")});return}if(!C(e)){r({show:!0,msg:"Please map all required fields to continue."});return}e.name!==""&&e.field_map.length>0&&m(3)}};return t.jsxs("div",{children:[t.jsx(b,{snack:S,setSnackbar:r}),t.jsx("div",{className:"txt-center w-9 mt-2 cal-width",children:t.jsx(_,{step:3,active:s})}),t.jsx(P,{formID:n,sendinBlueConf:e,setSendinBlueConf:p,step:s,setstep:m,isLoading:a,setisLoading:o,setSnackbar:r}),t.jsxs("div",{className:"btcd-stp-page",style:{width:s===2&&900,minHeight:s===2&&"900px"},children:[t.jsx(E,{formID:n,formFields:c,sendinBlueConf:e,setSendinBlueConf:p,isLoading:a,setisLoading:o,setSnackbar:r,error:h,setError:l}),t.jsx(N,{nextPageHandler:()=>B(3),disabled:e.field_map.length<1})]}),t.jsx(k,{step:s,saveConfig:()=>w(f,u,g,e,x)})]})}export{V as default};
