import{u as M,j as e,_ as r,y as k,$ as A,o as q}from"./main-677.js";import{d as w}from"./bf-67-72.js";import{f as R,r as L}from"./bf-239-391.js";import{S as V}from"./bf-648-122.js";import{M as _}from"./bf-878-130.js";import{a as S,b as O,c as P,e as T}from"./bf-242-363.js";function f({i:n,formFields:o,field:l,acumbamailConf:t,setAcumbamailConf:i}){var c,m,u,F,b,v,N,g,y,$,I;const x=M(A),{isPro:h}=x,a=(m=(c=t.default.allFields[t.listId])==null?void 0:c.required)==null?void 0:m.includes(l.acumbamailFormField),p=((F=(u=t.default.allFields)==null?void 0:u[t.listId])==null?void 0:F.fields)&&(Object.entries((v=(b=t.default.allFields)==null?void 0:b[t.listId])==null?void 0:v.fields).filter(s=>s[1].required===!0)||[]),d=((g=(N=t.default.allFields)==null?void 0:N[t.listId])==null?void 0:g.fields)&&(Object.entries(($=(y=t.default.allFields)==null?void 0:y[t.listId])==null?void 0:$.fields).filter(s=>s[1].required===!1)||[]);return e.jsxs("div",{className:"flx mt-2 mr-1",children:[e.jsxs("div",{className:"flx integ-fld-wrp",children:[e.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:l.formField||"",onChange:s=>S(s,n,t,i),children:[e.jsx("option",{value:"",children:r("Select Field")}),e.jsx("optgroup",{label:"Form Fields",children:o.map(s=>s.type!=="file-up"&&e.jsx("option",{value:s.key,children:s.name},`ff-zhcrm-${s.key}`))}),e.jsx("option",{value:"custom",children:r("Custom...")}),e.jsx("optgroup",{label:`General Smart Codes ${h?"":"(PRO)"}`,children:h&&((I=V)==null?void 0:I.map(s=>e.jsx("option",{value:s.name,children:s.label},`ff-rm-${s.name}`)))})]}),l.formField==="custom"&&e.jsx(_,{onChange:s=>O(s,n,t,i),label:r("Custom Value"),className:"mr-2",type:"text",value:l.customValue,placeholder:r("Custom Value")}),e.jsxs("select",{className:"btcd-paper-inp",name:"acumbamailFormField",disabled:n<1,value:l.acumbamailFormField||"",onChange:s=>S(s,n,t,i),children:[e.jsx("option",{value:"",children:r("Select Field")}),a&&p&&p.map((s,j)=>e.jsx("option",{value:s[0],children:s[0]},`mchimp-${j*2}`)),!a&&d&&d.map((s,j)=>e.jsx("option",{value:s[0],children:s[0]},`mchimp-${j*2}`))]})]}),!a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>P(n,t,i),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),e.jsx("button",{onClick:()=>T(n,t,i),className:"icn-btn sh-sm",type:"button","aria-label":"btn",children:e.jsx(k,{})})]})]})}function J({formFields:n,handleInput:o,acumbamailConf:l,setAcumbamailConf:t,isLoading:i,setIsLoading:x,setSnackbar:h}){var a,p;return e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("b",{className:"wdt-200 d-in-b",children:r("Actions:")}),e.jsxs("select",{onChange:o,name:"mainAction",value:l.mainAction,className:"btcd-paper-inp w-5",children:[e.jsx("option",{value:"",children:r("Select Actions")}),l.allActions&&l.allActions.map(({key:d,label:c})=>e.jsx("option",{value:d,children:c},d))]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-200 d-in-b",children:r("All List:")}),e.jsxs("select",{onChange:o,name:"listId",value:l.listId,className:"btcd-paper-inp w-5",children:[e.jsx("option",{value:"",children:r("Select List")}),((a=l==null?void 0:l.default)==null?void 0:a.allLists)&&Object.entries(l.default.allLists).map(d=>e.jsx("option",{value:d[0],children:d[1].name},d[0]))]}),e.jsx("button",{onClick:()=>R(l,t,x),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${r("Fetch Subscriber List")}'`},type:"button",disabled:i,children:"↻"}),e.jsx("br",{}),i&&e.jsx(q,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsxs("div",{className:"mt-5",children:[e.jsx("b",{className:"wdt-100",children:r("Field Map")}),e.jsx("button",{onClick:()=>L(null,l,t,x),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${r("Refresh Acumbamail Fields")}'`},type:"button",disabled:i,children:"↻"})]}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:r("Form Fields")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:r("Acumbamail Fields")})})]}),((p=l.default)==null?void 0:p.allFields)&&e.jsxs(e.Fragment,{children:[l.field_map.map((d,c)=>e.jsx(f,{i:c,field:d,acumbamailConf:l,formFields:n,setAcumbamailConf:t},`acumba-m-${c+9}`)),e.jsx("div",{className:"txt-center  mt-2",style:{marginRight:85},children:e.jsx("button",{onClick:()=>w(l.field_map.length,l,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("br",{})]})}export{J as A};
