var je=Object.defineProperty;var le=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var re=(d,m,c)=>m in d?je(d,m,{enumerable:!0,configurable:!0,writable:!0,value:c}):d[m]=c,x=(d,m)=>{for(var c in m||(m={}))ue.call(m,c)&&re(d,c,m[c]);if(le)for(var c of le(m))ve.call(m,c)&&re(d,c,m[c]);return d};import{k as fe,u as me,t as Ne,v as we,a as ke,r as k,j as e,n as Fe,_ as s,N as ye,b as F,B as Ce,p as u,z as Te,al as Se,b$ as Pe,$ as $e}from"./main-677.js";import{B as ze}from"./bf-8-69.js";import{p as Be,f as ce}from"./bf-325-82.js";import{C as p}from"./bf-102-76.js";import{T as De}from"./bf-647-118.js";import"./bf-610-73.js";import"./bf-648-122.js";function Ee(){var S,P,$,z,B,D,O,I,M,L,W,Y,A,X,_,E,H,R,U,G,J,V,q,K,Q,Z,ee,te,ae,se,ie,ne;const[d,m]=fe(Se),c=me(Pe),{formType:v,formID:g}=Ne(),f=we(),{css:r}=ke(),de=me($e),{pdf:h}=de.allFormSettings,[n,N]=k.useState({show:!1}),y=()=>{n.show=!1,N(x({},n)),f(`/form/settings/${v}/${g}/pdf-templates`)},oe=()=>{n.show=!1,N(x({},n)),f("/app-settings/pdf")},he=()=>{n.btnTxt=s("Go to PDF Settings"),n.body=s("Please configure PDF settings first."),n.btnClass="blue",n.action=()=>{oe()},n.show=!0,n.btn2Txt=s("Back"),N(x({},n))};k.useEffect(()=>{h===void 0&&he()},[h]),h!=null&&h.id&&delete h.id;const[a,w]=k.useState({title:"New Template",setting:x({},h),body:"PDF body"}),i=(t,l)=>{let o=l;w(j=>u(j,xe=>{t==="setting->font"&&(o=ce.find(be=>be.name===o)),Te(xe,t,o)}))},C=(t,l)=>{w(o=>u(o,j=>{t.target.checked?j.setting.watermark.active=l:delete j.setting.watermark.active}))},T=()=>{const t=u(d,l=>{l.push(a),l.push({updateTem:1})});m(t),f(`/form/settings/${v}/${g}/pdf-templates`)},pe=t=>{w(l=>u(l,o=>{t.target.checked?o.setting.override=!0:o.setting.override=!1}))},ge=()=>{if(typeof wp!="undefined"&&wp.media){const t=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});t.on("select",()=>{const{url:l}=t.state().get("selection").first().toJSON();i("watermark->img->src",l)}),t.open()}};return e.jsxs("div",{style:{width:900},children:[e.jsx(Fe,{show:n.show,close:y,btnTxt:n.btnTxt,btnClass:n.btnClass,body:n.body,action:n.action,btn2Txt:s("Back"),btn2Action:y}),e.jsxs(ye,{to:`/form/settings/${v}/${g}/pdf-templates`,className:`${r(F.btn)} btcd-btn-o-gray`,children:[e.jsx(ze,{className:"mr-1"}),s("Back")]}),e.jsx("button",{id:"secondary-update-btn",onClick:T,className:`${r(F.btn)} blue f-right`,type:"button",children:s("Save Template")}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsxs("b",{className:"w-2",style:{width:103},children:[s("Template Name:")," "]}),e.jsx("input",{onChange:t=>i(t.target.name,t.target.value),name:"title",type:"text",className:"btcd-paper-inp w-9",placeholder:"Name",value:a.title})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:s("Body:")}),e.jsx("label",{htmlFor:`pdf-tem-${g}`,className:"mt-2 w-10",children:e.jsx(De,{id:`pdf-tem-${g}`,formFields:c,value:a.body,onChangeHandler:t=>i("body",t),width:"100%",height:300,mapAllFieldWithTable:!0,mapAllField:!0})})]}),e.jsx("div",{className:r(b.checkbox),children:e.jsx(p,{onChange:t=>pe(t),checked:a.setting.override,title:"Override PDF global setting"})}),a.setting.override&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"paper_size",children:[e.jsx("b",{children:s("Paper Size")}),e.jsx("select",{id:"paper_size",name:"paperSize",onChange:t=>i("setting->paperSize",t.target.value),value:a.setting.paperSize,className:"btcd-paper-inp mt-1",children:Be.map((t,l)=>e.jsx("option",{value:t.value,children:t.label},`${l}-${t.val}`))})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"orientation",children:[e.jsx("b",{children:s("Orientation")}),e.jsxs("select",{id:"orientation",name:"orientation",onChange:t=>i("setting->orientation",t.target.value),value:a.setting.orientation,className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"p",children:s("Portrait")}),e.jsx("option",{value:"l",children:s("Landscape")})]})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"font",children:[e.jsx("b",{children:s("Font Family")}),e.jsx("select",{id:"font",name:"font",onChange:t=>i("setting->font",t.target.value),value:a.setting.font.name,className:"btcd-paper-inp mt-1",children:ce.map((t,l)=>e.jsx("option",{value:t.name,children:t.name},`${l}-${t.name}`))})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"fontSize",children:[e.jsx("b",{children:s("Font Size (Pixels)")}),e.jsx("input",{id:"fontSize",name:"fontSize",onChange:t=>i("setting->fontSize",t.target.value),value:a.setting.fontSize,className:"btcd-paper-inp mt-1",placeholder:"Font Size",type:"number"})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"pdfFileName",children:[e.jsx("b",{children:s("PDF File Name")}),e.jsx("input",{id:"pdfFileName",name:"pdfFileName",onChange:t=>i("setting->pdfFileName",t.target.value),value:(S=a.setting)==null?void 0:S.pdfFileName,className:"btcd-paper-inp mt-1",placeholder:"PDF File Name",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"active",children:[e.jsx("b",{children:s("Watermark")}),e.jsx(p,{name:"active",onChange:t=>C(t,"txt"),checked:(($=(P=a.setting)==null?void 0:P.watermark)==null?void 0:$.active)==="txt",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Text"})})}),e.jsx(p,{name:"active",onChange:t=>C(t,"img"),checked:((B=(z=a.setting)==null?void 0:z.watermark)==null?void 0:B.active)==="img",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Image"})})})]})}),((D=a.setting.watermark)==null?void 0:D.active)&&e.jsxs("div",{className:r(b.bdr),children:[a.setting.watermark.active==="txt"&&e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkText",children:[e.jsx("b",{children:s("Watermark Text")}),e.jsx("input",{id:"watermarkText",name:"watermarkText",onChange:t=>i("setting->watermark->txt",t.target.value),value:(I=(O=a.setting)==null?void 0:O.watermark)==null?void 0:I.txt,className:"btcd-paper-inp mt-1",placeholder:"Watermark Text",type:"text"})]})}),a.setting.watermark.active==="img"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkImg",className:r({flx:"align-center"}),children:[e.jsx("b",{children:s("Watermark Image")}),e.jsx(Ce,{className:"ml-2",onClick:ge,children:"Upload"}),((L=(M=a.setting.watermark)==null?void 0:M.img)==null?void 0:L.src)&&e.jsx("img",{className:r(b.img),src:(Y=(W=a.setting.watermark)==null?void 0:W.img)==null?void 0:Y.src,alt:""})]})}),e.jsxs("div",{className:r(b.size),children:[e.jsxs("label",{htmlFor:"width",className:r({w:300}),children:[e.jsx("b",{children:s("Width")}),e.jsx("input",{id:"width",onChange:t=>i("setting->watermark->img->width",t.target.value),value:(_=(X=(A=a.setting)==null?void 0:A.watermark)==null?void 0:X.img)==null?void 0:_.width,className:"btcd-paper-inp mt-1",placeholder:"Image width",type:"number"})]}),e.jsxs("label",{htmlFor:"height",className:r({w:300}),children:[e.jsx("b",{children:s("Height")}),e.jsx("input",{id:"height",onChange:t=>i("setting->watermark->img->height",t.target.value),value:(R=(H=(E=a.setting)==null?void 0:E.watermark)==null?void 0:H.img)==null?void 0:R.height,className:"btcd-paper-inp mt-1",placeholder:"Image height",type:"number"})]})]}),e.jsxs("div",{className:r(b.size),children:[e.jsxs("label",{htmlFor:"posX",className:r({w:300}),children:[e.jsx("b",{children:s("Position X (Units in millimeters)")}),e.jsx("input",{id:"posX",onChange:t=>i("setting->watermark->img->posX",t.target.value),value:(J=(G=(U=a.setting)==null?void 0:U.watermark)==null?void 0:G.img)==null?void 0:J.posX,className:"btcd-paper-inp mt-1",placeholder:"Position x",type:"number"})]}),e.jsxs("label",{htmlFor:"posY",className:r({w:300}),children:[e.jsx("b",{children:s("Position Y (Units in millimeters)")}),e.jsx("input",{id:"posY",onChange:t=>i("setting->watermark->img->posY",t.target.value),value:(K=(q=(V=a.setting)==null?void 0:V.watermark)==null?void 0:q.img)==null?void 0:K.posY,className:"btcd-paper-inp mt-1",placeholder:"Position Y",type:"number"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"imgBehind",children:[e.jsx("b",{children:s("Show watermark behind the page content")}),e.jsx(p,{radio:!0,name:"imgBehind",onChange:t=>i("setting->watermark->img->imgBehind",t.target.value),checked:((ee=(Z=(Q=a.setting)==null?void 0:Q.watermark)==null?void 0:Z.img)==null?void 0:ee.imgBehind)==="true",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Yes"})}),value:"true"}),e.jsx(p,{radio:!0,name:"imgBehind",onChange:t=>i("setting->watermark->img->imgBehind",t.target.value),checked:((se=(ae=(te=a.setting)==null?void 0:te.watermark)==null?void 0:ae.img)==null?void 0:se.imgBehind)==="false",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"No"})}),value:"false"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"opacity",children:[e.jsx("b",{children:s("Opacity (0-100)")}),e.jsx("input",{id:"opacity",name:"alpha",onChange:t=>i("setting->watermark->alpha",t.target.value),value:(ne=(ie=a.setting)==null?void 0:ie.watermark)==null?void 0:ne.alpha,className:"btcd-paper-inp mt-1",placeholder:"Opacity",max:"100",type:"number"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"direction",children:[e.jsx("b",{children:s("Language Direction")}),e.jsx(p,{radio:!0,name:"direction",onChange:t=>i("setting->direction",t.target.value),checked:a.setting.direction==="ltr",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"LTR"})}),value:"ltr"}),e.jsx(p,{radio:!0,name:"direction",onChange:t=>i("setting->direction",t.target.value),checked:a.setting.direction==="rtl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"RTL"})}),value:"rtl"})]})}),e.jsx("button",{id:"secondary-update-btn",onClick:T,className:`${r(F.btn)} blue f-right`,type:"button",children:s("Save Template")})]})]})}const b={checkbox:{mt:10},font:{flx:"align-center"},color:{b:"1px solid rgb(239 239 239) !important",w:30,h:30,ml:20},bdr:{pl:15},size:{flx:"align-center",mt:20,gp:40},img:{w:50,ml:20,b:"1px solid var(--white-0-89)",bs:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",brs:5}};export{Ee as default};
