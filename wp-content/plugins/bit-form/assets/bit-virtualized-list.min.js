var bit_virtualized_list=function(){"use strict";var e,t="undefined"==typeof document?void 0:document,i=!!t&&"content"in t.createElement("template"),n=!!t&&t.createRange&&"createContextualFragment"in t.createRange();function o(e,t){var i,n,o=e.nodeName,r=t.nodeName;return o===r||(i=o.charCodeAt(0),n=r.charCodeAt(0),i<=90&&n>=97?o===r.toUpperCase():n<=90&&i>=97&&r===o.toUpperCase())}function r(e,t,i){e[i]!==t[i]&&(e[i]=t[i],e[i]?e.setAttribute(i,""):e.removeAttribute(i))}var a={OPTION:function(e,t){var i=e.parentNode;if(i){var n=i.nodeName.toUpperCase();"OPTGROUP"===n&&(n=(i=i.parentNode)&&i.nodeName.toUpperCase()),"SELECT"!==n||i.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),i.selectedIndex=-1)}r(e,t,"selected")},INPUT:function(e,t){r(e,t,"checked"),r(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var i=t.value;e.value!==i&&(e.value=i);var n=e.firstChild;if(n){var o=n.nodeValue;if(o==i||!i&&o==e.placeholder)return;n.nodeValue=i}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var i,n,o=-1,r=0,a=e.firstChild;a;)if("OPTGROUP"===(n=a.nodeName&&a.nodeName.toUpperCase()))a=(i=a).firstChild;else{if("OPTION"===n){if(a.hasAttribute("selected")){o=r;break}r++}!(a=a.nextSibling)&&i&&(a=i.nextSibling,i=null)}e.selectedIndex=o}}};function s(){}function d(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}var f=function(r,f,l){if(l||(l={}),"string"==typeof f)if("#document"===r.nodeName||"HTML"===r.nodeName||"BODY"===r.nodeName){var u=f;(f=t.createElement("html")).innerHTML=u}else h=(h=f).trim(),f=i?function(e){var i=t.createElement("template");return i.innerHTML=e,i.content.childNodes[0]}(h):n?function(i){return e||(e=t.createRange()).selectNode(t.body),e.createContextualFragment(i).childNodes[0]}(h):function(e){var i=t.createElement("body");return i.innerHTML=e,i.childNodes[0]}(h);else 11===f.nodeType&&(f=f.firstElementChild);var h,c=l.getNodeKey||d,p=l.onBeforeNodeAdded||s,m=l.onNodeAdded||s,v=l.onBeforeElUpdated||s,g=l.onElUpdated||s,S=l.onBeforeNodeDiscarded||s,x=l.onNodeDiscarded||s,A=l.onBeforeElChildrenUpdated||s,z=l.skipFromChildren||s,y=l.addChild||function(e,t){return e.appendChild(t)},b=!0===l.childrenOnly,C=Object.create(null),I=[];function N(e){I.push(e)}function _(e,t){if(1===e.nodeType)for(var i=e.firstChild;i;){var n=void 0;t&&(n=c(i))?N(n):(x(i),i.firstChild&&_(i,t)),i=i.nextSibling}}function M(e,t,i){!1!==S(e)&&(t&&t.removeChild(e),x(e),_(e,i))}function T(e){m(e);for(var t=e.firstChild;t;){var i=t.nextSibling,n=c(t);if(n){var r=C[n];r&&o(t,r)?(t.parentNode.replaceChild(r,t),w(r,t)):T(t)}else T(t);t=i}}function w(e,i,n){var r=c(i);if(r&&delete C[r],!n){if(!1===v(e,i))return;if(function(e,t){var i,n,o,r,a=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var s=a.length-1;s>=0;s--)n=(i=a[s]).name,o=i.namespaceURI,r=i.value,o?(n=i.localName||n,e.getAttributeNS(o,n)!==r&&("xmlns"===i.prefix&&(n=i.name),e.setAttributeNS(o,n,r))):e.getAttribute(n)!==r&&e.setAttribute(n,r);for(var d=e.attributes,f=d.length-1;f>=0;f--)n=(i=d[f]).name,(o=i.namespaceURI)?(n=i.localName||n,t.hasAttributeNS(o,n)||e.removeAttributeNS(o,n)):t.hasAttribute(n)||e.removeAttribute(n)}}(e,i),g(e),!1===A(e,i))return}"TEXTAREA"!==e.nodeName?function(e,i){var n,r,s,d,f,l=z(e,i),u=i.firstChild,h=e.firstChild;e:for(;u;){for(d=u.nextSibling,n=c(u);!l&&h;){if(s=h.nextSibling,u.isSameNode&&u.isSameNode(h)){u=d,h=s;continue e}r=c(h);var m=h.nodeType,v=void 0;if(m===u.nodeType&&(1===m?(n?n!==r&&((f=C[n])?s===f?v=!1:(e.insertBefore(f,h),r?N(r):M(h,e,!0),r=c(h=f)):v=!1):r&&(v=!1),(v=!1!==v&&o(h,u))&&w(h,u)):3!==m&&8!=m||(v=!0,h.nodeValue!==u.nodeValue&&(h.nodeValue=u.nodeValue))),v){u=d,h=s;continue e}r?N(r):M(h,e,!0),h=s}if(n&&(f=C[n])&&o(f,u))l||y(e,f),w(f,u);else{var g=p(u);!1!==g&&(g&&(u=g),u.actualize&&(u=u.actualize(e.ownerDocument||t)),y(e,u),T(u))}u=d,h=s}!function(e,t,i){for(;t;){var n=t.nextSibling;(i=c(t))?N(i):M(t,e,!0),t=n}}(e,h,r);var S=a[e.nodeName];S&&S(e,i)}(e,i):a.TEXTAREA(e,i)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var i=t.firstChild;i;){var n=c(i);n&&(C[n]=i),e(i),i=i.nextSibling}}(r);var P,E,R=r,O=R.nodeType,U=f.nodeType;if(!b)if(1===O)1===U?o(r,f)||(x(r),R=function(e,t){for(var i=e.firstChild;i;){var n=i.nextSibling;t.appendChild(i),i=n}return t}(r,(P=f.nodeName,(E=f.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==E?t.createElementNS(E,P):t.createElement(P)))):R=f;else if(3===O||8===O){if(U===O)return R.nodeValue!==f.nodeValue&&(R.nodeValue=f.nodeValue),R;R=f}if(R===f)x(r);else{if(f.isSameNode&&f.isSameNode(R))return;if(w(R,f,b),I)for(var F=0,L=I.length;F<L;F++){var D=C[I[F]];D&&M(D,D.parentNode,!1)}}return!b&&R!==r&&r.parentNode&&(R.actualize&&(R=R.actualize(r.ownerDocument||t)),r.parentNode.replaceChild(R,r)),R},l=function(){function e(t){var i=t.itemCount,n=t.itemSizeGetter,o=t.estimatedItemSize;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._itemSizeGetter=n,this._itemCount=i,this._estimatedItemSize=o,this._itemSizeAndPositionData={},this._lastMeasuredIndex=-1}return e.prototype.getLastMeasuredIndex=function(){return this._lastMeasuredIndex},e.prototype.getSizeAndPositionForIndex=function(e){if(e<0||e>=this._itemCount)throw Error("Requested index "+e+" is outside of range 0.."+this._itemCount);if(e>this._lastMeasuredIndex){for(var t=this.getSizeAndPositionOfLastMeasuredItem(),i=t.offset+t.size,n=this._lastMeasuredIndex+1;n<=e;n++){var o=this._itemSizeGetter({index:n});if(null==o||isNaN(o))throw Error("Invalid size returned for index "+n+" of value "+o);this._itemSizeAndPositionData[n]={offset:i,size:o},i+=o}this._lastMeasuredIndex=e}return this._itemSizeAndPositionData[e]},e.prototype.getSizeAndPositionOfLastMeasuredItem=function(){return this._lastMeasuredIndex>=0?this._itemSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}},e.prototype.getTotalSize=function(){var e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this._itemCount-this._lastMeasuredIndex-1)*this._estimatedItemSize},e.prototype.getUpdatedOffsetForIndex=function(e){var t=e.align,i=void 0===t?"start":t,n=e.containerSize,o=e.targetIndex;if(n<=0)return 0;var r=this.getSizeAndPositionForIndex(o),a=r.offset,s=a-n+r.size,d=void 0;switch(i){case"end":d=s;break;case"center":d=a-(n-r.size)/2;break;default:d=a}var f=this.getTotalSize();return Math.max(0,Math.min(f-n,d))},e.prototype.getVisibleRange=function(e){var t=e.containerSize,i=e.offset,n=e.overscanCount;if(0===this.getTotalSize())return{};var o=i+t,r=this._findNearestItem(i),a=r,s=this.getSizeAndPositionForIndex(r);for(i=s.offset+s.size;i<o&&a<this._itemCount-1;)a++,i+=this.getSizeAndPositionForIndex(a).size;return n&&(r=Math.max(0,r-n),a=Math.min(a+n,this._itemCount)),{start:r,stop:a}},e.prototype.resetItem=function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)},e.prototype._binarySearch=function(e){for(var t=e.low,i=e.high,n=e.offset,o=void 0,r=void 0;t<=i;){if(o=t+Math.floor((i-t)/2),(r=this.getSizeAndPositionForIndex(o).offset)===n)return o;r<n?t=o+1:r>n&&(i=o-1)}if(t>0)return t-1},e.prototype._exponentialSearch=function(e){for(var t=e.index,i=e.offset,n=1;t<this._itemCount&&this.getSizeAndPositionForIndex(t).offset<i;)t+=n,n*=2;return this._binarySearch({high:Math.min(t,this._itemCount-1),low:Math.floor(t/2),offset:i})},e.prototype._findNearestItem=function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch({high:i,low:0,offset:e}):this._exponentialSearch({index:i,offset:e})},e}(),u=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getRowHeight=function(e){var t=e.index,i=n.options.rowHeight;return"function"==typeof i?i(t):Array.isArray(i)?i[t]:i},this.container=t,this.options=i,this.state={},this._initializeSizeAndPositionManager(i.rowCount),this.render=this.render.bind(this),this.handleScroll=this.handleScroll.bind(this),this.componentDidMount()}return e.prototype.componentDidMount=function(){var e=this,t=this.options,i=t.onMount,n=t.initialScrollTop,o=t.initialIndex,r=t.height,a=n||null!=o&&this.getRowOffset(o)||0,s=this.inner=document.createElement("div"),d=this.content=document.createElement("div");s.setAttribute("style","position:relative; overflow:hidden; width:100%; min-height:100%; will-change: transform;"),d.setAttribute("style","position:absolute; top:0; left:0; height:100%; width:100%; overflow:visible;"),s.appendChild(d),this.container.appendChild(s),this.setState({offset:a,height:r},(function(){a&&(e.container.scrollTop=a),e.container.addEventListener("scroll",e.handleScroll),"function"==typeof i&&i()}))},e.prototype._initializeSizeAndPositionManager=function(e){this._sizeAndPositionManager=new l({itemCount:e,itemSizeGetter:this.getRowHeight,estimatedItemSize:this.options.estimatedRowHeight||100})},e.prototype.setState=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1];this.state=Object.assign(this.state,t),requestAnimationFrame((function(){e.render(),"function"==typeof i&&i()}))},e.prototype.resize=function(e,t){this.setState({height:e},t)},e.prototype.handleScroll=function(e){var t=this.options.onScroll,i=this.container.scrollTop;this.setState({offset:i}),"function"==typeof t&&t(i,e)},e.prototype.getRowOffset=function(e){return this._sizeAndPositionManager.getSizeAndPositionForIndex(e).offset},e.prototype.scrollToIndex=function(e,t){var i=this.state.height,n=this._sizeAndPositionManager.getUpdatedOffsetForIndex({align:t,containerSize:i,targetIndex:e});this.container.scrollTop=n},e.prototype.setRowCount=function(e){this._initializeSizeAndPositionManager(e),this.render()},e.prototype.onRowsRendered=function(e){var t=this.options.onRowsRendered;"function"==typeof t&&t(e)},e.prototype.destroy=function(){this.container.removeEventListener("scroll",this.handleScroll),this.container.innerHTML=""},e.prototype.render=function(){for(var e=this.options,t=e.overscanCount,i=e.renderRow,n=this.state,o=n.height,r=n.offset,a=void 0===r?0:r,s=this._sizeAndPositionManager.getVisibleRange({containerSize:o,offset:a,overscanCount:t}),d=s.start,l=s.stop,u=document.createDocumentFragment(),h=d;h<=l;h++)u.appendChild(i(h));this.inner.style.height=this._sizeAndPositionManager.getTotalSize()+"px",this.content.style.top=this.getRowOffset(d)+"px",f(this.content,u,{childrenOnly:!0,getNodeKey:function(e){return e.nodeIndex}}),this.onRowsRendered({startIndex:d,stopIndex:l})},e}();return u}();
