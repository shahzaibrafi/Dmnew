import{t as be,v as ue,k as ve,u as Ne,a as fe,j as e,db as ke,N as we,b as j,_ as s,B as Fe,p as g,z as ye,al as Ce,b$ as Te}from"./main-677.js";import{B as ze}from"./bf-8-69.js";import{p as $e,f as de}from"./bf-325-82.js";import{C as c}from"./bf-102-76.js";import{T as Se}from"./bf-647-118.js";import"./bf-610-73.js";import"./bf-648-122.js";function De(){var N,f,k,w,F,y,C,T,z,$,S,P,B,O,I,W,Y,L,A,D,M,U,X,_,H,E,R,J,V,q,G,K,Q,Z,ee,te,ae,se,ie,le,ne,re,me,ce;const{formType:b,formID:d,id:m}=be(),oe=ue(),[x,p]=ve(Ce),pe=Ne(Te),{css:l}=fe(),a=x[m],u=()=>{const t=g(x,n=>{n.push({updateTem:1})});p(t),oe(`/form/settings/${b}/${d}/pdf-templates`)},he=t=>{p(n=>g(n,r=>{t.target.checked?r[m].setting.override=!0:r[m].setting.override=!1}))},i=(t,n)=>{let r=n;p(h=>g(h,xe=>{t==="setting->font"&&(r=de.find(je=>je.name===r)),ye(xe[m],t,r)}))},v=(t,n)=>{p(r=>g(r,h=>{t.target.checked?h[m].setting.watermark.active=n:delete h[m].setting.watermark.active}))},ge=()=>{if(typeof wp!="undefined"&&wp.media){const t=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});t.on("select",()=>{const{url:n}=t.state().get("selection").first().toJSON();i("setting->watermark->img->src",n)}),t.open()}};return x.length<1?e.jsx(ke,{to:`/form/settings/edit/${d}/pdf-templates`,replace:!0}):e.jsxs("div",{style:{width:900},children:[e.jsxs(we,{to:`/form/settings/${b}/${d}/pdf-templates`,className:`${l(j.btn)} btcd-btn-o-gray`,children:[e.jsx(ze,{className:"mr-1"}),s("Back")]}),e.jsx("button",{id:"secondary-update-btn",onClick:u,className:`${l(j.btn)} blue f-right`,type:"button",children:s("Update Template")}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsx("b",{className:"w-2",children:s("Template Name:")}),e.jsx("input",{onChange:t=>i(t.target.name,t.target.value),type:"text",className:"btcd-paper-inp w-9",placeholder:"Name",value:a.title,name:"title"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{children:e.jsx("b",{children:s("Body:")})}),e.jsx("label",{htmlFor:`t-m-e-${m}-${d}`,className:"mt-2 w-10",children:e.jsx(Se,{id:`mail-tem-${d}`,formFields:pe,value:a.body,onChangeHandler:t=>i("body",t),width:"100%",mapAllFieldWithTable:!0,mapAllField:!0})})]}),e.jsx("div",{className:l(o.checkbox),children:e.jsx(c,{onChange:t=>he(t),checked:(N=a.setting)==null?void 0:N.override,title:"Override global PDF setting"})}),((f=a.setting)==null?void 0:f.override)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"paper_size",children:[e.jsx("b",{children:s("Paper Size")}),e.jsx("select",{id:"paper_size",name:"paperSize",onChange:t=>i("setting->paperSize",t.target.value),value:(k=a.setting)==null?void 0:k.paperSize,className:"btcd-paper-inp mt-1",children:$e.map((t,n)=>e.jsx("option",{value:t.value,children:t.label},`${n}-${t.val}`))})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"orientation",children:[e.jsx("b",{children:s("Orientation")}),e.jsxs("select",{id:"orientation",name:"orientation",onChange:t=>i("setting->orientation",t.target.value),value:(w=a.setting)==null?void 0:w.orientation,className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"p",children:s("Portrait")}),e.jsx("option",{value:"l",children:s("Landscape")})]})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"font",children:[e.jsx("b",{children:s("Font Family")}),e.jsx("select",{id:"font",name:"font",onChange:t=>i("setting->font",t.target.value),value:(F=a.setting)==null?void 0:F.font.name,className:"btcd-paper-inp mt-1",children:de.map((t,n)=>e.jsx("option",{value:t.name,children:t.name},`${n}-${t.name}`))})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"fontSize",children:[e.jsx("b",{children:s("Font Size (Pixels)")}),e.jsx("input",{id:"fontSize",name:"fontSize",onChange:t=>i("setting->fontSize",t.target.value),value:(y=a.setting)==null?void 0:y.fontSize,className:"btcd-paper-inp mt-1",placeholder:"Font Size",type:"number"})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"pdfFileName",children:[e.jsx("b",{children:s("PDF File Name")}),e.jsx("input",{id:"pdfFileName",name:"pdfFileName",onChange:t=>i("setting->pdfFileName",t.target.value),value:(C=a.setting)==null?void 0:C.pdfFileName,className:"btcd-paper-inp mt-1",placeholder:"PDF File Name",type:"text"})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"active",children:[e.jsx("b",{children:s("Watermark")}),e.jsx(c,{name:"active",onChange:t=>v(t,"txt"),checked:((z=(T=a.setting)==null?void 0:T.watermark)==null?void 0:z.active)==="txt",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Text"})})}),e.jsx(c,{name:"active",onChange:t=>v(t,"img"),checked:((S=($=a.setting)==null?void 0:$.watermark)==null?void 0:S.active)==="img",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Image"})})})]})}),((B=(P=a.setting)==null?void 0:P.watermark)==null?void 0:B.active)&&e.jsxs("div",{className:l(o.bdr),children:[((O=a.setting)==null?void 0:O.watermark.active)==="txt"&&e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkText",children:[e.jsx("b",{children:s("Watermark Text")}),e.jsx("input",{id:"watermarkText",name:"watermarkText",onChange:t=>i("setting->watermark->txt",t.target.value),value:(W=(I=a.setting)==null?void 0:I.watermark)==null?void 0:W.txt,className:"btcd-paper-inp mt-1",placeholder:"Watermark Text",type:"text"})]})}),((Y=a.setting)==null?void 0:Y.watermark.active)==="img"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsxs("label",{htmlFor:"watermarkImg",className:l({flx:"align-center"}),children:[e.jsx("b",{children:s("Watermark Image")}),e.jsx(Fe,{className:"ml-2",onClick:ge,children:"Upload"}),((D=(A=(L=a.setting)==null?void 0:L.watermark)==null?void 0:A.img)==null?void 0:D.src)&&e.jsx("img",{className:l(o.img),src:(X=(U=(M=a.setting)==null?void 0:M.watermark)==null?void 0:U.img)==null?void 0:X.src,alt:""})]})}),e.jsxs("div",{className:l(o.size),children:[e.jsxs("label",{htmlFor:"width",className:l({w:300}),children:[e.jsx("b",{children:s("Width")}),e.jsx("input",{id:"width",onChange:t=>i("setting->watermark->img->width",t.target.value),value:(E=(H=(_=a.setting)==null?void 0:_.watermark)==null?void 0:H.img)==null?void 0:E.width,className:"btcd-paper-inp mt-1",placeholder:"Image width",type:"number"})]}),e.jsxs("label",{htmlFor:"height",className:l({w:300}),children:[e.jsx("b",{children:s("Height")}),e.jsx("input",{id:"height",onChange:t=>i("setting->watermark->img->height",t.target.value),value:(V=(J=(R=a.setting)==null?void 0:R.watermark)==null?void 0:J.img)==null?void 0:V.height,className:"btcd-paper-inp mt-1",placeholder:"Image height",type:"number"})]})]}),e.jsxs("div",{className:l(o.size),children:[e.jsxs("label",{htmlFor:"posX",className:l({w:300}),children:[e.jsx("b",{children:s("Position X (Units in millimeters)")}),e.jsx("input",{id:"posX",onChange:t=>i("setting->watermark->img->posX",t.target.value),value:(K=(G=(q=a.setting)==null?void 0:q.watermark)==null?void 0:G.img)==null?void 0:K.posX,className:"btcd-paper-inp mt-1",placeholder:"Position x",type:"number"})]}),e.jsxs("label",{htmlFor:"posY",className:l({w:300}),children:[e.jsx("b",{children:s("Position Y (Units in millimeters)")}),e.jsx("input",{id:"posY",onChange:t=>i("setting->watermark->img->posY",t.target.value),value:(ee=(Z=(Q=a.setting)==null?void 0:Q.watermark)==null?void 0:Z.img)==null?void 0:ee.posY,className:"btcd-paper-inp mt-1",placeholder:"Position Y",type:"number"})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"imgBehind",children:[e.jsx("b",{children:s("Show watermark behind the page content")}),e.jsx(c,{radio:!0,onChange:t=>i("setting->watermark->img->imgBehind",t.target.value),checked:((se=(ae=(te=a.setting)==null?void 0:te.watermark)==null?void 0:ae.img)==null?void 0:se.imgBehind)==="true",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"Yes"})}),value:"true"}),e.jsx(c,{radio:!0,onChange:t=>i("setting->watermark->img->imgBehind",t.target.value),checked:((ne=(le=(ie=a.setting)==null?void 0:ie.watermark)==null?void 0:le.img)==null?void 0:ne.imgBehind)==="false",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"No"})}),value:"false"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"opacity",children:[e.jsx("b",{children:s("Opacity (0-100)")}),e.jsx("input",{id:"opacity",onChange:t=>i("setting->watermark->alpha",t.target.value),value:(me=(re=a.setting)==null?void 0:re.watermark)==null?void 0:me.alpha,className:"btcd-paper-inp mt-1",placeholder:"Opacity",max:"100",type:"number"})]})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("label",{htmlFor:"direction",children:[e.jsx("b",{children:s("Language Direction")}),e.jsx(c,{radio:!0,onChange:t=>i("setting->direction",t.target.value),checked:((ce=a.setting)==null?void 0:ce.direction)==="ltr",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"LTR"})}),value:"ltr"}),e.jsx(c,{radio:!0,onChange:t=>i("setting->direction",t.target.value),checked:a.setting.direction==="rtl",title:e.jsx("small",{className:"txt-dp",children:e.jsx("b",{children:"RTL"})}),value:"rtl"})]})}),e.jsx("button",{id:"secondary-update-btn",onClick:u,className:`${l(j.btn)} blue f-right`,type:"button",children:s("Update Template")})]})]})}const o={checkbox:{mt:10},font:{flx:"align-center"},color:{b:"1px solid rgb(239 239 239) !important",w:30,h:30,ml:20},bdr:{pl:15},size:{flx:"align-center",mt:20,gp:40},img:{w:50,ml:20,b:"1px solid var(--white-0-89)",bs:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",brs:5}};export{De as default};
