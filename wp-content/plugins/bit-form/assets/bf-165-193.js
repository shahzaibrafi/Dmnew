var B=Object.defineProperty,A=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var $=(a,t,l)=>t in a?B(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,d=(a,t)=>{for(var l in t||(t={}))P.call(t,l)&&$(a,l,t[l]);if(T)for(var l of T(t))_.call(t,l)&&$(a,l,t[l]);return a},r=(a,t)=>A(a,I(t));import{r as c,k as G,u as N,dG as H,t as R,v as D,a as L,j as e,M as O,_ as m,N as V,b as f,ak as W,b$ as q,$ as z,p as g}from"./main-677.js";import{B as J}from"./bf-8-69.js";import{S as K}from"./bf-648-122.js";import{T as Q}from"./bf-647-118.js";import"./bf-610-73.js";function te(){var y;const[a,t]=c.useState({title:"New Template",sub:"Email Subject",body:"Email Body"}),[l,v]=G(W),p=N(q),[u]=c.useState(()=>p.filter(s=>!H.includes(s.typ))),[w,F]=c.useState(!1),{formType:h,formID:n}=R(),S=D(),{css:b}=L(),M=N(z),{isPro:x}=M,k=s=>{t(i=>g(i,o=>{o.body=s}))},j=({target:{name:s,value:i}})=>{t(o=>r(d({},o),{[s]:i}))},C=()=>{const s=g(l,i=>{i.push(a),i.push({updateTem:1})});v(s),S(`/form/settings/${h}/${n}/email-templates`)},E=({target:{value:s}})=>{t(i=>r(d({},i),{sub:i.sub+s})),setTimeout(()=>{s=""},100)};return e.jsxs("div",{style:{width:900},children:[e.jsx(O,{show:w,setModal:F,title:m("Browse Template"),children:e.jsx("h4",{className:"txt-dp",children:m("Email Templates Coming soon")})}),e.jsxs(V,{to:`/form/settings/${h}/${n}/email-templates`,className:`${b(f.btn)} btcd-btn-o-gray`,children:[e.jsx(J,{className:"mr-1"}),m("Back")]}),e.jsx("button",{id:"secondary-update-btn",onClick:C,className:`${b(f.btn)} blue f-right`,type:"button",children:m("Save Template")}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsxs("b",{style:{width:103},children:[m("Template Name:")," "]}),e.jsx("input",{onChange:j,name:"title",type:"text",className:"btcd-paper-inp w-9",placeholder:"Name",value:a.title})]}),e.jsxs("div",{className:"mt-3 flx",children:[e.jsx("b",{style:{width:100},children:"Subject:"}),e.jsx("input",{onChange:j,name:"sub",type:"text",className:"btcd-paper-inp w-7",placeholder:"Email Subject Here",value:a.sub}),e.jsxs("select",{onChange:E,className:"btcd-paper-inp ml-2",style:{width:150},children:[e.jsx("option",{value:"",children:m("Add field")}),e.jsx("optgroup",{label:"Form Fields",children:u!==null&&u.map(s=>!s.type.match(/^(file-up|recaptcha)$/)&&e.jsx("option",{value:`\${${s.key}}`,children:s.name},s.key))}),e.jsx("optgroup",{label:`General Smart Codes ${x?"":"(PRO)"}`,children:x&&((y=K)==null?void 0:y.map(s=>e.jsx("option",{value:`\${${s.name}}`,children:s.label},`ff-rm-${s.name}`)))})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:m("Body:")}),e.jsx("label",{htmlFor:`mail-tem-${n}`,className:"mt-2 w-10",children:e.jsx(Q,{id:`mail-tem-${n}`,formFields:p,value:a.body,onChangeHandler:k,width:"100%",mapAllFieldWithTable:!0,mapAllField:!0})})]})]})}export{te as default};
