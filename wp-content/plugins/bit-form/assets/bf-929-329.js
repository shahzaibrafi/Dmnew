var ms=Object.defineProperty,vs=Object.defineProperties;var ps=Object.getOwnPropertyDescriptors;var ze=Object.getOwnPropertySymbols;var Ns=Object.prototype.hasOwnProperty,ys=Object.prototype.propertyIsEnumerable;var Ge=(s,a,c)=>a in s?ms(s,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[a]=c,k=(s,a)=>{for(var c in a||(a={}))Ns.call(a,c)&&Ge(s,c,a[c]);if(ze)for(var c of ze(a))ys.call(a,c)&&Ge(s,c,a[c]);return s},ie=(s,a)=>vs(s,ps(a));import{u as O,r as P,d as me,_ as Y,j as e,S as we,$ as ne,dX as K,dY as ws,dZ as Ss,dl as be,L as ye,a as xe,t as Pe,l as ue,b as Qe,ab as Be,I as Ee,k as He,at as ks,q as $s,c as $e,w as F,cA as Cs,bb as Ce,c3 as _s,A as Ts,cD as Ls,aL as Ze,n as Ps,p as ce,B as Je,E as Bs,U as Es,y as As,cL as Vs,M as Fs,au as Is}from"./main-677.js";import{S as Ke,G as Ne,T as _e}from"./bf-493-110.js";import{P as Us}from"./bf-803-75.js";import{B as Rs}from"./bf-8-69.js";import{C as fe}from"./bf-102-76.js";import{u as Ds}from"./bf-743-127.js";import{C as zs}from"./bf-149-112.js";import{S as Gs,a as Hs,D as Js,b as Me}from"./bf-937-115.js";import{E as Ms}from"./bf-485-83.js";import{N as Ws}from"./bf-387-155.js";import{P as We}from"./bf-288-77.js";import{T as te}from"./bf-610-73.js";const Z=s=>{const a=s.current;return s.current+=1,a},Te=(s,a)=>{const c=[];let t=1;return s.forEach(i=>{i.type==="group"?(c.push(ie(k({},i),{id:Z(a),groupLbl:i.title,type:`group-${t}-start`})),i.childs.map(x=>{c.push(k({id:Z(a)},x))}),c.push({id:Z(a),type:`group-${t}-end`}),t+=1):c.push(k({id:Z(a)},i))}),c},Le=(s,a)=>{const c=[];for(let t=0;t<s.length;t+=1)if("type"in s[t]&&s[t].type.includes("start")){const i=s[t].type.split("-")[1],{groupLbl:x,disabled:u}=s[t],v=[];for(let j=t+1;j<s.length;j+=1)if("type"in s[j]&&s[j].type===`group-${i}-end`){t=j;break}else{const y=k({},s[j]);delete y.id,v.push(y)}v.length&&c.push({title:x,type:"group",childs:v,disabled:u})}else{const i=k({},s[t]);delete i.id,c.push(i)}return c.length?c:[{[a]:"Option 1"},{[a]:"Option 2"},{[a]:"Option 3"}]},Oe=(s,a,c,t)=>{let i="";return s.map(x=>{x.type==="group"?(i+=`group-start:${x.title}\r
`,x.childs.map(u=>{t&&u[t]&&(i+=`[${u[t]}]; `),i+=`${u[a]}${u[c]?`:${u[c]}`:""}\r
`}),i+=`group-end:${x.title}\r
`):(t&&x[t]&&(i+=`[${x[t]}]; `),i+=`${x[a]}${x[c]?`:${x[c]}`:""}\r
`)}),i},qs=(s,a,c,t)=>{const i=s.split(/\r?\n/),x=[];let u=1,v=1;return i.forEach(j=>{if(j.includes("group-start")){if(v===1&&!s.includes("group-end:"))return;const[,y]=j.split("group-start:");x.push({id:u,type:`group-${v}-start`,groupLbl:y}),u+=1}else if(j.includes("group-end"))x.push({id:u,type:`group-${v}-end`}),u+=1,v+=1;else if(j){const[y,g]=j.split(":");x.push({id:u,[c]:y,[t]:g}),u+=1}}),a.current=u,x},Xs=(s,a,c)=>{const t=j=>j?typeof j=="string"?j.trim():j.toString().trim():"",{options:i,lbl:x,vlu:u}=s;return!i||!x||!u?[]:i.map(j=>({[a]:t(j[x]),[c]:t(j[u])}))};function Ys({importOpts:s,setImportOpts:a}){var v,j,y;const c=O(ne),t=typeof c!="undefined"&&c.isPro,[i,x]=P.useState({show:!1});P.useEffect(()=>{if(!t)return;const g=new URL(c.ajaxURL);g.searchParams.append("action","bitforms_get_acf_group_fields"),g.searchParams.append("_ajax_nonce",c.nonce);const h=fetch(g).then(d=>d.json()).then(d=>{var r;if(d.data){const f=d.data,N=k({},s);if(localStorage.setItem("bf-options-acf_field_op",JSON.stringify(f)),N.groups=d.data,N.lbl=1,N.vlu=0,(N==null?void 0:N.fieldObject)===null)N.fieldObject={fieldType:"acf_options",filter:{fieldkey:""},type:"acf",oldOpt:[]};else{const{fieldObject:_}=k({},N);N.fieldObject.fieldType="acf_options";const{fieldkey:$}=k({},_==null?void 0:_.filter),B=(r=N.groups)==null?void 0:r.find(p=>$?(p==null?void 0:p.key)===$:!0);N.options=Object.entries(B==null?void 0:B.choices),N.keys=Object.keys(N.options),N.vlu=N==null?void 0:N.keys[N==null?void 0:N.vlu],N.lbl=N==null?void 0:N.keys[N==null?void 0:N.lbl]}return a(k({},N)),"Successfully fetched ACF fields options."}return"ACF fields options not found"});me.promise(h,{success:d=>d,failed:d=>d,loading:Y("Loading ACF fields...")})},[]);const u=g=>{var $,B,p;const{name:h,value:d}=g.target,r=k({},s);r.fieldObject.filter[h]=d;const f=localStorage.getItem("bf-options-acf_field_op"),N=(B=($=r.fieldObject)==null?void 0:$.filter)==null?void 0:B.fieldkey,_=(p=JSON.parse(f))==null?void 0:p.find(n=>N?(n==null?void 0:n.key)===N:!0);r.options=Object.entries(_==null?void 0:_.choices),r.keys=Object.keys(r.options),r.vlu=r==null?void 0:r.keys[r==null?void 0:r.vlu],r.lbl=r==null?void 0:r.keys[r==null?void 0:r.lbl],a(k({},r))};return e.jsxs("div",{className:"mt-2",children:[e.jsx(we,{snack:i,setSnackbar:x}),e.jsx("div",{children:e.jsx("div",{children:!!(s!=null&&s.groups)&&e.jsx("div",{className:"flx mt-3 w-10",children:e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"ACF Options Field"}),e.jsxs("select",{"data-testid":"imprt-optns-acf-slct",name:"fieldkey",onChange:u,value:((j=(v=s==null?void 0:s.fieldObject)==null?void 0:v.filter)==null?void 0:j.fieldkey)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"",children:"select option"}),(y=s==null?void 0:s.groups)==null?void 0:y.map((g,h)=>e.jsx("option",{value:g.key,children:`${g.group_title}-${g.name}`},`imp-${h*2}`))]})]})})})})]})}const X=s=>s?typeof s=="string"?s.trim():s.toString().trim():"",es=s=>s==="comma"?",":s==="space"?/[ ]+/:/\r?\n/,Qs=typeof bits!="undefined"&&bits.isPro,Zs=(s,a,c)=>{if(!Qs)return[];const{data:t,dataTyp:i,separator:x,lbl:u,vlu:v}=s;let j=[];if(i==="txt"){const y=ss(x,s);if(!x||y&&(!u||!v))return[];const g=es(x),h=u==="value"?1:0,d=v==="key"?0:1;j=t.split(g).filter(r=>X(r).length).map(r=>{const f=y?r.split(":"):r.split(),N=X(f[h]),_=X((f==null?void 0:f[d])||N);return{[a]:N,[c]:_}})}if(i==="json"){if(K("object",t)||K("array",t)&&t.length===1&&K("object",t[0])){if(!u||!v)return[];const y=K("array",t)?t[0]:t,g=u==="value"?1:0,h=v==="key"?0:1;j=Object.entries(y).map(d=>({[a]:X(d[g]),[c]:X(d[h])}))}else if(K("array",t))if(t.length>1&&K("object",t[0])){if(!u||!v)return[];j=t.map(y=>({[a]:X(y[u]),[c]:X(y[v])}))}else j=t.filter(y=>X(y).length>0).map(y=>({[a]:X(y),[c]:X(y)}))}if(i==="xlsx"||i==="xls"||i==="csv"||i==="tsv"){if(!u||!v)return[];j=t.map(y=>({[a]:X(y[u]),[c]:X(y[v])}))}return j},ss=(s,a)=>{var u;let c=1;const t=es(s),i=((u=a==null?void 0:a.data)==null?void 0:u.split(t))||[],{length:x}=i;if(x){for(let v=0;v<(x<=10?x:10);v+=1)if(X(i[v])&&i[v].split(":").length<=1){c=0;break}}return c},Ks=(s,a,c)=>{const{data:t,preset:i,lbl:x,vlu:u}=s;return!i||!x||!u?[]:t[i].map(j=>({[a]:X(j[x]),[c]:X(j[u])}))};function Os({importOpts:s,setImportOpts:a}){var y,g;const c=O(ne),{isPro:t}=c,i=h=>{let d=k({},s);if(!t)return[];const r=h.target.files[0];if(!(r!=null&&r.name)){console.warn("file missing");return}d={show:!0,dataSrc:"fileupload"};const f=ws(r.name),N=new FileReader;f==="txt"||f==="json"||f==="csv"||f==="tsv"?N.readAsText(r):(f==="xlsx"||f==="xls")&&N.readAsArrayBuffer(r),N.onload=()=>{d.dataTyp=f;const _=N.result;if(f==="txt")d.data=_;else if(f==="json"){try{d.data=JSON.parse(_)}catch(B){a(k({},d)),console.warn(B);return}const $=u(d.data);$!=null&&$.headers&&(d.headers=$.headers),$!=null&&$.lbl&&(d.lbl=$.lbl),$!=null&&$.vlu&&(d.vlu=$.vlu)}else if(f==="csv"||f==="tsv")d.data=Ss(_,f==="tsv"?"	":","),d.headers=j(d.data[0]),d.headers.length&&(d=x(d.headers[0],d));else if(f==="xlsx"||f==="xls"){if(!XLSX){console.warn("sheet.js not loaded!");return}const $=new Uint8Array(_),B=XLSX.read($,{type:"array"});d.dataTyp=f;const{length:p}=B.SheetNames;p===1?(d.data=XLSX.utils.sheet_to_json(B.Sheets[B.SheetNames[0]]),d.headers=j(d.data[0]),d.headers.length&&(d=x(d.headers[0],d))):p>1&&(d.workbook=B)}a(k({},d))}},x=(h,d)=>ie(k({},d),{lbl:h,vlu:h}),u=h=>{const d=j(h[0]);if(K("array",h)&&h.length>1&&K("object",h[0]))return{headers:d,lbl:d[0]||"",vlu:d[0]||""};if(K("object",h)||K("array",h)&&h.length===1&&K("object",h[0]))return{headers:["key","value"],lbl:"key",vlu:"value"}},v=h=>{const{name:d,value:r}=h.target,f=k({},s);f[d]=r,d==="separator"?ss(r,f)&&(f.headers=["key","value"],f.lbl="key",f.vlu="value"):d==="sheetName"&&(delete f.lbl,delete f.vlu,r?(f.data=XLSX.utils.sheet_to_json(f.workbook.Sheets[r]),f.headers=j(f.data[0])):(delete f.headers,delete f.data)),a(k({},f))},j=h=>K("object",h)?Object.keys(h):[];return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Upload File (txt, json, xls, xlsx, csv, tsv)"}),e.jsx("input",{"data-testid":"fil-upld-imprt-optns-fil",type:"file",onChange:i,accept:".json,.txt,.xls,.xlsx,.csv,.tsv",className:"btcd-paper-inp mt-1"})]}),s.dataTyp==="txt"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Separator"}),e.jsxs("select",{"data-testid":"imprt-optns-sprtr-slct",name:"separator",className:"btcd-paper-inp mt-1",onChange:v,value:s.separator||"",children:[e.jsx("option",{value:"",children:"Select Separator"}),e.jsx("option",{value:"comma",children:"Comma"}),e.jsx("option",{value:"space",children:"Space"}),e.jsx("option",{value:"newline",children:"New Line"})]})]}),((g=(y=s==null?void 0:s.workbook)==null?void 0:y.SheetNames)==null?void 0:g.length)>1&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Sheet Name"}),e.jsxs("select",{"data-testid":"imprt-optns-shet-slct",name:"sheetName",id:"",className:"btcd-paper-inp mt-1",onChange:v,value:s.sheetName||"",children:[e.jsx("option",{value:"",children:"Select Sheet"}),s.workbook.SheetNames.map(h=>e.jsx("option",{value:h,children:h},h))]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:v,value:s.lbl||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(h=>e.jsx("option",{value:h,children:h},h))]})]}),e.jsxs("div",{className:"w-5 ",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:v,value:s.vlu||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(h=>e.jsx("option",{value:h,children:h},h))]})]})]})]})}const ea=(s,a,c)=>{const{data:t,lbl:i,vlu:x}=s;return!t||!i||!x?[]:t.map(v=>{var j,y;return{[a]:(j=v[i])==null?void 0:j.trim(),[c]:(y=v[x])==null?void 0:y.trim()}})};function sa({importOpts:s,setImportOpts:a}){var v,j,y,g,h,d,r,f,N,_,$,B,p;const c=O(ne),t=typeof c!="undefined"&&c.isPro,[i,x]=P.useState({show:!1});P.useEffect(()=>{if(!t)return;const n=new URL(c.ajaxURL);n.searchParams.append("action","bitforms_get_wp_posts"),n.searchParams.append("_ajax_nonce",c.nonce);const w=fetch(n).then(m=>m.json()).then(m=>{if(m.data){const{posts:o,postTypes:E}=m.data,b=k({},s);if(b.data=o,localStorage.setItem("bf-options-posts",JSON.stringify(o)),b.postTypes=Object.values(E),b.headers=Object.keys(b.data[0]),b.lbl=b.headers[6],b.vlu=b.headers[0],(b==null?void 0:b.fieldObject)===null)b.data=o==null?void 0:o.filter(C=>(C==null?void 0:C.post_type)==="post"),b.fieldObject={fieldType:"post_field",filter:{orderBy:"ID",order:"ASC",postType:"post",postStatus:"all"},lebel:b.lbl,value:b.vlu,hiddenValue:b==null?void 0:b.vlu,oldOpt:[],type:"post"};else{const{fieldObject:C}=k({},b);b.fieldObject.fieldType="post_field";const{orderBy:D,order:V,postType:G,postStatus:H}=k({},C==null?void 0:C.filter),Q=be(b.data,D,V);H!=="all"?b.data=Q==null?void 0:Q.filter(q=>(q==null?void 0:q.post_status)===H&&(q==null?void 0:q.post_type)===G):b.data=Q,b.lbl=C==null?void 0:C.lebel,b.vlu=C==null?void 0:C.hiddenValue}return a(k({},b)),"Successfully fetched wordpress posts."}return"posts not found"});me.promise(w,{success:m=>m,failed:m=>m,loading:Y("Loading Posts...")})},[]);const u=n=>{const{name:w,value:m}=n.target,o=k({},s);o[w]=m;const{fieldObject:E}=o;E.filter[w]=m;const{orderBy:b,order:C,postType:D,postStatus:V}=E.filter;let G=localStorage.getItem("bf-options-posts");G=be(JSON.parse(G),b,C),V!=="all"?o.data=G==null?void 0:G.filter(H=>(H==null?void 0:H.post_status)===V&&(H==null?void 0:H.post_type)===D):o.data=G==null?void 0:G.filter(H=>(H==null?void 0:H.post_type)===D),o.fieldObject.lebel=o==null?void 0:o.lbl,o.fieldObject.hiddenValue=o==null?void 0:o.vlu,a(k({},o))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(we,{snack:i,setSnackbar:x}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Filter by Post Type"}),e.jsx("select",{"data-testid":"imprt-optns-pst-typ-slct",name:"postType",onChange:u,value:((j=(v=s.fieldObject)==null?void 0:v.filter)==null?void 0:j.postType)||"",className:"btcd-paper-inp mt-1",children:(y=s==null?void 0:s.postTypes)==null?void 0:y.map((n,w)=>e.jsx("option",{value:n.name,children:n.label},`imp-${w*2}`))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Filter by Post Status"}),e.jsxs("select",{"data-testid":"imprt-optns-pst-stats-slct",name:"postStatus",onChange:u,value:((h=(g=s==null?void 0:s.fieldObject)==null?void 0:g.filter)==null?void 0:h.postStatus)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{disabled:!0,selected:!0,children:"select status"}),e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"publish",children:"Publish"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"auto-draft",children:"Auto-Draft"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"trash",children:"Trash"})]})]})]}),!!((d=s==null?void 0:s.data)!=null&&d.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:u,value:((f=(r=s==null?void 0:s.fieldObject)==null?void 0:r.filter)==null?void 0:f.orderBy)||"",className:"btcd-paper-inp mt-1",children:(N=s==null?void 0:s.headers)==null?void 0:N.map(n=>e.jsx("option",{value:n,children:n},n))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:u,value:(($=(_=s.fieldObject)==null?void 0:_.filter)==null?void 0:$.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:((B=s==null?void 0:s.fieldObject)==null?void 0:B.lebel)||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(n=>e.jsx("option",{value:n,children:n},n))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:((p=s==null?void 0:s.fieldObject)==null?void 0:p.hiddenValue)||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(n=>e.jsx("option",{value:n,children:n},n))]})]})]})]})]})]})})}const as=1.1,aa=`https://cdn.jsdelivr.net/gh/Bit-Apps-Pro/bitforms-static@v${as}/options-presets.json`;function na({importOpts:s,setImportOpts:a}){const c=O(ne),{isPro:t}=c,[i,x]=P.useState(!1);P.useEffect(()=>{if(!t)return;let g=localStorage.getItem("bf-options-presets");const h=k({},s);if(g&&(g=JSON.parse(g)),!g||g&&Number(g.version)<as)x(!0),fetch(aa).then(d=>d.json()).then(d=>{if(d.data){const{data:r}=d;h.data=u(r),h.presetOpts=v(r),localStorage.setItem("bf-options-presets",JSON.stringify(d)),a(k({},h))}x(!1)});else{const{data:d}=g;h.data=u(d),h.presetOpts=v(d),a(k({},h))}},[]);const u=g=>g.reduce((h,d)=>k(k({},h),d.childs),{}),v=g=>g.map(h=>({title:h.title,type:"group",childs:Object.keys(h.childs).map(d=>({label:d,value:d}))})),j=g=>{var d,r;const h=k({},s);if(h.preset=g,g&&((r=(d=h==null?void 0:h.data)==null?void 0:d[g])!=null&&r.length)){h.headers=Object.keys(h.data[g][0]);const[f]=h.headers;h.lbl=f,h.vlu=f}else delete h.headers,delete h.lbl,delete h.vlu;a(k({},h))},y=g=>{const h=k({},s),{name:d,value:r}=g.target;h[d]=r,a(k({},h))};return e.jsxs("div",{className:"mt-2",children:[i&&e.jsxs("div",{className:"flx mb-2",children:[e.jsx(ye,{size:20,clr:"#022217",className:"mr-1"}),e.jsx("p",{className:"m-0",children:"Presets are loading from server. This process is only for the first time."})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Preset"}),e.jsx(Ds,{className:"btcd-paper-drpdwn mt-1 w-10",options:s.presetOpts,defaultValue:s.preset,onChange:j,singleSelect:!0,closeOnSelect:!0})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:y,value:s.lbl||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(g=>e.jsx("option",{value:g,children:g},g))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:y,value:s.vlu||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(g=>e.jsx("option",{value:g,children:g},g))]})]})]})]})}const qe=s=>typeof s=="string"?s==null?void 0:s.trim():s==null?void 0:s.toString(),la=(s,a,c)=>{const{data:t,lbl:i,vlu:x}=s;return!t||!i||!x?[]:t.map(v=>({[a]:qe(v[i]),[c]:qe(v[x])}))};function ta({importOpts:s,setImportOpts:a}){var j,y,g,h,d,r,f,N,_,$,B,p;const c=O(ne),{isPro:t}=c,[i,x]=P.useState({show:!1});P.useEffect(()=>{if(!t)return;localStorage.removeItem("bf-options-taxanomy");const n=new URL(c.ajaxURL);n.searchParams.append("action","bitforms_get_wp_taxonomy"),n.searchParams.append("_ajax_nonce",c.nonce);const w=fetch(n).then(m=>m.json()).then(m=>{if(m.data){const{allCategoreis:o,taxonomies:E}=m.data,b=k({},s);b.data=o,localStorage.setItem("bf-options-categories",JSON.stringify(o)),localStorage.setItem("bf-options-taxanomy",JSON.stringify(E)),b.taxonomies=Object.values(E),b.headers=Object.keys(b.data[0]);const[C,D]=b.headers;if(b.lbl=D,b.vlu=C,(b==null?void 0:b.fieldObject)===null)b.data=o==null?void 0:o.filter(V=>V.taxonomy==="category"),b.fieldObject={fieldType:"taxanomy_field",filter:{orderBy:"term_id",taxanomy:"category",order:"ASC"},lebel:b.lbl,value:b.vlu,hiddenValue:b==null?void 0:b.vlu,oldOpt:[],isTaxonomy:!1,isHierarchical:!0,type:"terms"};else{const{fieldObject:V}=k({},b);b.fieldObject.fieldType="taxanomy_field";const{orderBy:G,order:H,taxanomy:Q}=k({},V==null?void 0:V.filter);b.data=o==null?void 0:o.filter(je=>je.taxonomy===Q);const q=be(b.data,G,H);b.data=q,b.lbl=V==null?void 0:V.lebel,b.vlu=V==null?void 0:V.hiddenValue,b.fieldObject.isHierarchical=V==null?void 0:V.isHierarchical}return a(k({},b)),"Successfully fetched wordpress terms."}return"terms data not found"});me.promise(w,{success:m=>m,failed:m=>m,loading:Y("Loading Terms...")})},[]);const u=n=>{const w=k({},s);n.target.checked?w.fieldObject.isTaxonomy=!0:w.fieldObject.isTaxonomy=!1,a(k({},w))},v=n=>{var H;const{name:w,value:m}=n.target,o=k({},s);o[w]=m;const{fieldObject:E}=o;E.filter[w]=m;const{orderBy:b,taxanomy:C,order:D}=E.filter;let V=localStorage.getItem("bf-options-categories");const G=JSON.parse(localStorage.getItem("bf-options-taxanomy"));V=be(JSON.parse(V),b,D),o.data=V==null?void 0:V.filter(Q=>Q.taxonomy===C),o.fieldObject.isHierarchical=(H=G==null?void 0:G.find(Q=>Q.name===C))==null?void 0:H.hierarchical,o.fieldObject.lebel=o==null?void 0:o.lbl,o.fieldObject.hiddenValue=o==null?void 0:o.vlu,a(k({},o))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(we,{snack:i,setSnackbar:x}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"Filter by Taxonomy"}),e.jsx("select",{"data-testid":"imprt-optns-txnmy-slct",name:"taxanomy",onChange:v,value:((y=(j=s==null?void 0:s.fieldObject)==null?void 0:j.filter)==null?void 0:y.taxanomy)||"",className:"btcd-paper-inp mt-1",children:(g=s==null?void 0:s.taxonomies)==null?void 0:g.map((n,w)=>e.jsx("option",{value:n==null?void 0:n.name,children:`${n==null?void 0:n.singular_name}-${n==null?void 0:n.name}`},`imp-${w*2}`))})]}),!!((h=s==null?void 0:s.data)!=null&&h.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"w-5 flx",children:[e.jsx(fe,{"data-testid":"imprt-optns-txnmy-chek",onChange:u,title:Y("Use Post Taxonomy Fields"),checked:((d=s==null?void 0:s.fieldObject)==null?void 0:d.isTaxonomy)===!0,value:!1}),e.jsx(zs,{width:250,icnSize:17,className:"ml-1",children:e.jsxs("div",{className:"txt-body",children:["if selected then its work also post taxanomy field.",e.jsx("br",{})]})})]}),e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:v,value:((f=(r=s==null?void 0:s.fieldObject)==null?void 0:r.filter)==null?void 0:f.orderBy)||"",className:"btcd-paper-inp mt-1",children:(N=s==null?void 0:s.headers)==null?void 0:N.map(n=>e.jsx("option",{value:n,children:n},n))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:v,value:(($=(_=s==null?void 0:s.fieldObject)==null?void 0:_.filter)==null?void 0:$.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:v,value:((B=s==null?void 0:s.fieldObject)==null?void 0:B.lebel)||"",children:[e.jsx("option",{disabled:!0,children:"Select Label"}),s.headers.map(n=>e.jsx("option",{value:n,children:n},n))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:v,value:((p=s==null?void 0:s.fieldObject)==null?void 0:p.hiddenValue)||"",children:[e.jsx("option",{disabled:!0,children:"Select Value"}),s.headers.map(n=>e.jsx("option",{value:n,children:n},n))]})]})]})]})]})]})})}const Xe=s=>typeof s=="string"?s==null?void 0:s.trim():s==null?void 0:s.toString(),ca=(s,a,c)=>{const{data:t,lbl:i,vlu:x}=s;return!t||!i||!x?[]:t.map(v=>({[a]:Xe(v[i]),[c]:Xe(v[x])}))};function ra({importOpts:s,setImportOpts:a}){var v,j,y,g,h,d,r,f,N,_,$,B;const c=O(ne),{isPro:t}=c,[i,x]=P.useState({show:!1});P.useEffect(()=>{if(!t)return;const p=new URL(c.ajaxURL);p.searchParams.append("action","bitforms_get_wp_users"),p.searchParams.append("_ajax_nonce",c.nonce);const n=fetch(p).then(w=>w.json()).then(w=>{if(w.data){const{users:m}=w.data,o=k({},s);o.data=m,localStorage.setItem("bf-options-users",JSON.stringify(m)),o.headers=Object.keys(o.data[0]);const[E]=o.headers;if(o.lbl=E,o.vlu=E,(o==null?void 0:o.fieldObject)===null)o.fieldObject={fieldType:"user_field",filter:{orderBy:"ID",role:"all",order:"ASC"},lebel:o.lbl,value:o.vlu,hiddenValue:o==null?void 0:o.vlu,oldOpt:[],type:"user"};else{const{fieldObject:b}=k({},o);o.fieldObject.fieldType="user_field";const{orderBy:C,order:D,role:V}=k({},b==null?void 0:b.filter),G=be(o.data,C,D);V!=="all"?o.data=G==null?void 0:G.filter(H=>H.role[0]===V):o.data=G,o.lbl=b==null?void 0:b.lebel,o.vlu=b==null?void 0:b.hiddenValue}return a(k({},o)),"Successfully fetched users data."}return"users data not found"});me.promise(n,{success:w=>w,failed:w=>w,loading:Y("Loading Users...")})},[]);const u=p=>{const{name:n,value:w}=p.target,m=k({},s);(n==="lbl"||n==="vlu")&&(m[n]=w);const{fieldObject:o}=m;o.filter[n]=w;const{orderBy:E,order:b,role:C}=o.filter;let D=localStorage.getItem("bf-options-users");D=be(JSON.parse(D),E,b),C!=="all"?m.data=D==null?void 0:D.filter(V=>V.role[0]===C):m.data=D,m.fieldObject.lebel=m==null?void 0:m.lbl,m.fieldObject.hiddenValue=m==null?void 0:m.vlu,a(k({},m))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(we,{snack:i,setSnackbar:x}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"Filter by Role"}),e.jsxs("select",{"data-testid":"imprt-optns-rol-slct",name:"role",onChange:u,value:((j=(v=s==null?void 0:s.fieldObject)==null?void 0:v.filter)==null?void 0:j.role)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{selected:!0,disabled:!0,children:"select role"}),e.jsx("option",{value:"all",children:"all"}),e.jsx("option",{value:"administrator",children:"Administrator"}),e.jsx("option",{value:"author",children:"Author"}),e.jsx("option",{value:"contributor",children:"Contributor"}),e.jsx("option",{value:"editor",children:"Editor"}),e.jsx("option",{value:"subscriber",children:"Subscriber"})]})]}),!!((y=s==null?void 0:s.data)!=null&&y.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:u,value:((h=(g=s==null?void 0:s.fieldObject)==null?void 0:g.filter)==null?void 0:h.orderBy)||"",className:"btcd-paper-inp mt-1",children:(d=s==null?void 0:s.headers)==null?void 0:d.map(p=>e.jsx("option",{value:p,children:p},p))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:u,value:((f=(r=s==null?void 0:s.fieldObject)==null?void 0:r.filter)==null?void 0:f.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),(s==null?void 0:s.headers)&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:((N=s==null?void 0:s.fieldObject)==null?void 0:N.lebel)||"",children:[e.jsx("option",{value:"",children:"Select Label"}),(_=s==null?void 0:s.headers)==null?void 0:_.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:u,value:(($=s==null?void 0:s.fieldObject)==null?void 0:$.hiddenValue)||"",children:[e.jsx("option",{value:"",children:"Select Value"}),(B=s==null?void 0:s.headers)==null?void 0:B.map(p=>e.jsx("option",{value:p,children:p},p))]})]})]})]})]})]})})}function ia({setOptions:s,importOpts:a,setImportOpts:c,lblKey:t,valKey:i,setEditOptionType:x,customType:u,setCustomType:v}){const j=O(ne),{isPro:y}=j,{css:g}=xe(),{fieldKey:h}=Pe(),d=O(Be),r=ue(d[h]),f=p=>p.map(n=>ie(k({},n),{[i]:n[i].replace(/,/g,"_")})),N=()=>{if(!y)return[];const{dataSrc:p}=a;return p==="fileupload"?Zs(a,t,i):p==="presets"?Ks(a,t,i):p==="user"?ca(a,t,i):p==="terms"?la(a,t,i):p==="post"?ea(a,t,i):p==="acf"?Xs(a,t,i):[]},_=p=>{const{name:n,value:w}=p.target;let m=k({},a);const{fieldObject:o,disabled:E}=k({},a);n==="dataSrc"&&(m={show:!0}),m.fieldObject=o,m.fieldObject&&(m.fieldObject.type=w),m.disabled=E,m[n]=w,c(k({},m))},$=()=>{var o,E;const p=f(N());(a==null?void 0:a.dataSrc)==="user"&&(r.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="terms"&&(r.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="post"&&(r.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="acf"&&(r.customType=a==null?void 0:a.fieldObject),a.type==="merge"?(r.customType&&(r.custom_type.oldOpt=r.opt),r.opt=r.opt.concat(p)):r.opt=p;const n=((o=r==null?void 0:r.customType)==null?void 0:o.type)||"fileupload";let w=null,m=!1;(E=r==null?void 0:r.customType)!=null&&E.type&&(m=!0,w=r==null?void 0:r.customType),(n==="fileupload"||n==="presets")&&(r.customType=null),s(Le(r.opt,t)),c({dataSrc:n,fieldObject:w,disabled:m}),v(r==null?void 0:r.customType),x("Visual")},B=N();return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Data Source"}),e.jsxs("select",{"data-testid":"imprt-optns-data-src",name:"dataSrc",className:"btcd-paper-inp mt-1",onChange:_,value:a.dataSrc,children:[e.jsx("option",{value:"fileupload",children:"File Upload"}),e.jsx("option",{value:"presets",children:"Presets"}),e.jsx("option",{value:"post",children:"Posts"}),e.jsx("option",{value:"terms",children:"Terms"}),e.jsx("option",{value:"user",children:"Users"}),e.jsx("option",{value:"acf",children:"ACF Field Option"})]})]}),a.dataSrc==="fileupload"&&e.jsx(Os,{importOpts:a,setImportOpts:c}),a.dataSrc==="presets"&&e.jsx(na,{importOpts:a,setImportOpts:c}),a.dataSrc==="post"&&e.jsx(sa,{importOpts:a,setImportOpts:c}),a.dataSrc==="user"&&e.jsx(ra,{importOpts:a,setImportOpts:c}),a.dataSrc==="terms"&&e.jsx(ta,{importOpts:a,setImportOpts:c}),a.dataSrc==="acf"&&e.jsx(Ys,{importOpts:a,setImportOpts:c}),!!B.length&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Preview:"}),e.jsxs("table",{border:"1",className:"btcd-table txt-center mt-3",children:[e.jsx("thead",{className:"thead",children:e.jsxs("tr",{className:"tr",children:[e.jsx("th",{className:"th",children:"Label"}),e.jsx("th",{className:"th",children:"Value"})]})}),e.jsx("tbody",{className:"tbody",children:B.slice(0,5).map((p,n)=>e.jsxs("tr",{className:"tr",children:[e.jsx("td",{className:"td",children:p[t]}),e.jsx("td",{className:"td",children:p[i]})]},`imp-${n*2}`))}),B.length-5>0&&e.jsx("tfoot",{className:"tfoot",children:e.jsx("tr",{className:"tr",children:e.jsx("td",{className:"td",colSpan:"2",children:`+${B.length-5} more ( Total ${B.length} )`})})})]})]}),(a.dataSrc==="presets"||a.dataSrc==="fileupload")&&e.jsxs("div",{className:"mt-1",children:[e.jsx(fe,{name:"type",onChange:_,radio:!0,title:Y("Replace Previous Options"),value:"replace",checked:a.type!=="merge"}),e.jsx("br",{}),e.jsx(fe,{name:"type",onChange:_,radio:!0,title:Y("Merge with Previous Options"),value:"merge",checked:a.type==="merge"})]}),e.jsxs("button",{"data-testid":"imprt-edt-optns-btn",onClick:$,className:`${g(Qe.btn)} blue`,type:"button",disabled:!B.length||!1,children:[e.jsx(Rs,{size:"15"})," ",Y("Import & Edit")]})]})}function da({setOptions:s,lblKey:a,valKey:c,setEditOptionType:t,isPro:i,customType:x,setCustomType:u}){const{fieldKey:v}=Pe(),[j,y]=P.useState({}),g=ue(x),h=(g==null?void 0:g.type)||"fileupload";let d=null,r=!1;return g!=null&&g.type&&(d=g,r=!0),P.useEffect(()=>y({dataSrc:h,fieldObject:d,disabled:r}),[v]),e.jsxs("div",{className:"pos-rel",children:[i&&!Ee&&e.jsx("div",{className:"pro-blur flx",style:{width:"100%",height:"100%",top:0,left:0},children:e.jsxs("div",{className:"pro",children:[Y("Available On"),e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",Y("Premium")]})})]})}),e.jsx(ia,{setOptions:s,importOpts:j,setImportOpts:y,lblKey:a,valKey:c,setEditOptionType:t,customType:x,setCustomType:u})]})}function oa({options:s,optionTxt:a,setOptionTxt:c,lblKey:t,valKey:i,imgKey:x,isPro:u}){const{css:v}=xe();P.useEffect(()=>{c(Oe(s,t,i,x))},[s]);const j=y=>{c(y.target.value)};return e.jsxs("div",{className:"pos-rel",children:[u&&!Ee&&e.jsx("div",{className:"pro-blur flx",style:{width:"100%",height:"100%",left:0,top:0},children:e.jsxs("div",{className:"pro",children:[Y("Available On"),e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",Y("Premium")]})})]})}),e.jsx("textarea",{"data-testid":"txt-optns-tab-area",className:v(ha.textarea),onChange:j,value:a})]})}const ha={textarea:{w:"100%",p:5,mt:10,h:200}};function ua({size:s=21}){return e.jsx("svg",{width:s,height:s,viewBox:"0 0 21 21",children:e.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(2 10)",children:[e.jsx("path",{d:"m0 .5c2.53705308 3.66666667 5.37038642 5.5 8.5 5.5 3.1296136 0 5.9629469-1.83333333 8.5-5.5"}),e.jsx("path",{d:"m2.5 3.423-2 2.077"}),e.jsx("path",{d:"m14.5 3.423 2 2.077"}),e.jsx("path",{d:"m10.5 6 1 2.5"}),e.jsx("path",{d:"m6.5 6-1 2.5"})]})})}function fa({iconType:s,setModal:a,optIndx:c,setOption:t,option:i,selected:x="",uploadLbl:u="",unsplash:v=!1}){const{fieldKey:j}=Pe(),[y,g]=He(Be),h=ue(y[j]),[d,r]=P.useState({parent:x||"Icons"}),[f,N]=P.useState([]),[_,$]=P.useState(!1),[B,p]=P.useState(!1),[n,w]=P.useState({}),[m,o]=P.useState([]),[E,b]=P.useState(""),[C,D]=P.useState(!1),[V,G]=P.useState(!1),H=u||"Upload Icon",[Q,q]=P.useState(10001),[je,de]=P.useState(!1),[ve,pe]=P.useState(),{css:T}=xe(),oe="https://raw.githack.com",ee=P.useRef();He(ks);const re="n3pcVfA-CTg4OlOQsM3m6lEWLISyoSbtDqP2CfoukyU",[S,A]=P.useState(1),[I,W]=P.useState([]),[he,ns]=P.useState(""),[ls,ja]=P.useState(1),Ae=[{label:"Icons",show:["label"]},{label:H},{label:"Downloaded Icons"}];v&&Ae.push({label:"Unsplash"});const ts=[{label:"Font Awesome",value:"t=2_id_fontawesome",id:"font-awesome",status:!1},{label:"Bootstrap",value:"t=2_id_bootstrapicons",id:"bootstrap-icons",status:!1},{label:"Material Design",value:"t=2_id_materialdesign-icons",id:"material-design-icons",status:!1},{label:"Ion",value:"t=2_id_ionicons",id:"ionicons",status:!1},{label:"Octicons",value:"t=2_id_octicons",id:"octicons",status:!1},{label:"CSS.GG",value:"t=2_id_css.gg",id:"css.gg",status:!1},{label:"Feather",value:"t=2_id_feather",id:"feather",status:!1},{label:"Carbon",value:"t=2_id_carbonicons",id:"carbon-icons",status:!1},{label:"Typicons",value:"t=2_id_typicons",id:"typicons",status:!1},{label:"Vscode",value:"t=2_id_vscodecodicons",id:"vscode-codicons",status:!1},{label:"Simple",value:"t=2_id_simpleicons",id:"simple-icons",status:!1}],[se,cs]=P.useState(ts||[]),[Se,Ve]=P.useState([]),ke=()=>{if(E)return"nofilter=true";const l=se.find(J=>J.status===!0);let L="";return l&&(L=se.map(J=>J.value).join("&")),L},rs=l=>{D(!0);const L=E!==""?`&t=1_tag_${l}`:"";fetch(`https://icons.bitapps.pro/search?c=0&${ke()}${L}`).then(J=>J.json()).then(J=>{var z;if(J){let M=J.results;se.find(ae=>ae.status)&&(M=M==null?void 0:M.filter(ae=>{var le;return(le=se.find(ge=>ge.id===ae.id))==null?void 0:le.status})),o(M),q(J.total)}(z=ee==null?void 0:ee.current)==null||z.scrollToTop(0),D(!1)})},is=$s.useAsyncDebounce(rs,500),ds=({target:{value:l}})=>{b(l),is(l)},os=(l,L)=>{L==="parent"?r({parent:l}):L==="child"&&r(J=>ie(k({},J),{child:l}))},hs=()=>{if(typeof wp!="undefined"&&wp.media){const l=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});l.on("select",()=>{const L=l.state().get("selection").first().toJSON(),J=ce(i,z=>{z[c].img=L.url});t(J),a(!1)}),l.open()}};P.useEffect(()=>{w({}),N([]),o([]),d.parent==="Icons"&&($(!0),fetch("https://icons.bitapps.pro/search?c=0&").then(l=>l.json()).then(l=>{l&&(q(l.total),o(l.results)),$(!1)})),d.parent==="Downloaded Icons"&&($(!0),$e({},"bitforms_get_download_icn").then(l=>{l!==void 0&&l.success&&N(l==null?void 0:l.data),$(!1)}))},[d]);const us=()=>{p(!0),$e({id:n.id,src:n.url},"bitforms_icn_save_setting").then(l=>{if(l!==void 0&&l.success){h[s]=l.data;const L=ce(i,J=>{J[c].img=l.data});t(L),a(!1)}p(!1),a(!1)})},fs=l=>{var J;N(z=>z.filter(M=>M!==l));const L=new RegExp(l,"gi");(J=h[s])!=null&&J.match(L)&&(delete h[s],g(z=>ce(z,M=>{M[j]=h}))),$e({file:l},"bitforms_icon_remove").then(z=>{z!==void 0&&z.success&&N(z.data)}),me.success("Icon Removed Successfully"),de(!1)},Fe=l=>{l.target.parentNode.style.display="none"},Ie=l=>{const L=l.target.scrollHeight-l.target.scrollTop-l.target.clientHeight-100,J=E!==""?`&t=1_tag_${E}`:"";L<=0&&m.length<Q&&(G(!0),fetch(`https://icons.bitapps.pro/search?c=${m.length}&${ke()}${J}`).then(z=>z.json()).then(z=>{z&&o(m.concat(z.results)),G(!1)}))},bs=(l,L,J)=>{const z=[...se];J===!1?(z[l].value=`t=1_id_${L.replace("t=2_id_","")}`,z[l].status=!0):(z[l].value=`t=2_id_${L.replace("t=1_id_","")}`,z[l].status=!1),cs(z);const M=E!==""?`&t=1_tag_${E}`:"";se.length&&fetch(`https://icons.bitapps.pro/search?c=0&${ke()}${M}`).then(ae=>ae.json()).then(ae=>{if(ae){let le=ae.results;se.find(ge=>ge.status)&&(le=le==null?void 0:le.filter(ge=>{var De;return(De=se.find(gs=>gs.id===ge.id))==null?void 0:De.status})),o(le),q(ae.total)}})},Ue=()=>{const l=ce(i,L=>{L[c].img=n.url});t(l),a(!1)},Re=(l,L)=>{w({id:l,url:L})};P.useEffect(()=>{ns(""),N([]),W([]),$(!0),fetch(`https://api.unsplash.com/photos/?client_id=${re}&per_page=30&page=${S}`).then(l=>l.json()).then(l=>{l&&(q(l.length),W(l)),$(!1)}),fetch(`https://api.unsplash.com/collections/?client_id=${re}&page=${ls}`).then(l=>l.json()).then(l=>{l&&Ve(l),$(!1)})},[]);const xs=(l,L,J)=>{const z=[...Se];z.map(M=>{M.status=!1}),J?z[l].status=!1:z[l].status=!0,Ve(z),Se.length&&!J?fetch(`https://api.unsplash.com/collections/${L}/photos?client_id=${re}&per_page=30`).then(M=>M.json()).then(M=>{M&&(W(M),q(M.length))}):fetch(`https://api.unsplash.com/photos/?client_id=${re}&per_page=30&page=${S}`).then(M=>M.json()).then(M=>{M&&(W(M),q(M.length))})},js=l=>{w({id:l.id,url:l.urls.regular})};return e.jsxs("div",{children:[e.jsx(Ke,{options:Ae,onChange:l=>os(l,"parent"),defaultActive:d.parent,defaultItmWidth:220,wideTab:!0,className:T(F.mt1)}),e.jsxs(Ne,{open:d.parent==="Icons",children:[e.jsx("div",{className:T(F.mt2,F.flxc,{flxp:1,jc:"center"}),children:se.map((l,L)=>e.jsx("button",{"data-testid":"icn-pck-btn",title:l.label,onClick:()=>bs(L,l.value,l.status),type:"button",className:`${T(U.chip,F.mr2)} ${l.status&&T(U.active)}`,children:l.label},l.label))}),e.jsxs("div",{className:T(F.flxc,U.searchBar,F.mt2,F.mb2),children:[e.jsxs("div",{className:T(U.fields_search),children:[e.jsx("input",{"data-testid":"icns-mdl-srch-inp",title:"Search Icons","aria-label":"Search Icons",placeholder:"Search in 10,000+ icons by keywords one at a time. e.g., user or login or etc...",id:"search-icon",type:"search",name:"searchIcn",value:E,onChange:ds,className:T(U.search_field)}),e.jsx("span",{title:"search",className:T(U.search_icn),children:e.jsx(Cs,{size:"20"})})]}),e.jsx("div",{children:C&&e.jsx(ye,{size:20,clr:"#13132b"})})]}),e.jsxs(Ce,{ref:ee,style:{minHeight:350},onScroll:Ie,children:[_&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:T(F.mt2)}),Array(26).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${T(U.loadingPlaceholder)} loader`},`loading-${L*2}`))]}),e.jsx("div",{className:T(F.flxc,F.mt2,U.icon),children:m.map(l=>e.jsx("button",{"data-testid":`inc-prv-btn-${l.name}`,type:"button",title:`${l.name} (${l.id})`,className:`${T(U.icnBtn)} ${oe+l.url===n.url&&T(U.active,U.activeIcn)}`,onClick:()=>Re(l.id,oe+l.url),children:e.jsx("img",{src:`${oe}${l.url}`,onError:Fe,alt:l.name,className:T(U.img)})},`${l.name} (${l.id})`))}),V&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:T(F.mt2)}),Array(26).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${T(U.loadingPlaceholder)} loader`},`loading-2--${L*2}`))]})]}),e.jsxs("button",{"data-testid":"icn-dwnld-n-sav",type:"button",disabled:!n.url,className:T(U.saveBtn,U.btnPosition),onClick:us,children:[e.jsx("span",{className:T(F.mr1),children:e.jsx(_s,{size:"19"})}),"Download & save",B&&e.jsx(ye,{size:20,clr:"#fff",className:F.ml2})]})]}),e.jsx(Ne,{open:d.parent==="Unsplash",children:e.jsxs("div",{children:[e.jsx("div",{className:T(F.mt2,F.flxc,{flxp:1,jc:"center"}),children:Se.map((l,L)=>e.jsx("button",{"data-testid":"icn-pck-btn",title:l.title,onClick:()=>xs(L,l.id,l.status),type:"button",className:`${T(U.chip,F.mr2)} ${l.status&&T(U.active)}`,children:l.title},l.title))}),e.jsxs(Ce,{ref:ee,style:{minHeight:350},onScroll:Ie,children:[_&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:T(F.mt2)}),Array(26).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${T(U.loadingPlaceholder)} loader`},`loderfnt-${L*2}`))]}),e.jsx("div",{className:T(F.mt2,U.imgWrp),children:I.map(l=>e.jsx("button",{type:"button",title:`(${l.description})`,className:`${T(U.imageBtn)} ${l.urls.regular===n.url&&T(U.activeImg)}`,onClick:()=>js(l),children:e.jsx("img",{src:l.urls.thumb,onError:Fe,alt:l.id,className:T(U.imgH)})},`(${l.id})`))}),V&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:T(F.mt2)}),Array(26).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${T(U.loadingPlaceholder)} loader`},`loderfnt--${L*2}`))]})]}),e.jsxs("button",{"data-testid":"icn-dwnld-n-sav",type:"button",disabled:!n.url,className:T(U.saveBtn,U.btnPosition),onClick:Ue,children:[e.jsx("span",{className:T(F.mr1,{dy:"flex"}),children:e.jsx(Ts,{size:"20"})}),"Save",B&&e.jsx(ye,{size:20,clr:"#fff",className:F.ml2})]})]})}),e.jsx(Ne,{open:d.parent===H,children:e.jsxs("button",{type:"button",className:T(U.upBtn),onClick:hs,children:[e.jsx(Ls,{w:"35"})," ","Browse"]})}),e.jsxs(Ne,{open:d.parent==="Downloaded Icons",children:[_&&e.jsx("div",{className:T({h:300}),children:e.jsx("div",{title:"Loading...",className:T({flxp:"wrap",jc:"center",flx:1}),children:Array(22).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${T(U.loadingPlaceholder)} loader`},`loading-3-${L*2}`))})}),!_&&e.jsx(Ce,{ref:ee,style:{minHeight:"300px"},children:e.jsx("div",{className:T(F.flxc,F.mt4,U.icon),children:!!f.length&&f.map((l,L)=>e.jsxs("div",{className:T(F.flxc,F.mt2,U.downloadedBtnWrapper),"data-file":l,style:{display:"inline-block"},children:[e.jsx("button",{"data-testid":`dwnlodd-inc-del-btn-${L}`,type:"button",className:`${T(U.delBtn)} trash`,title:"Delete",onClick:()=>{de(!0),pe(l)},children:e.jsx(Ze,{size:10})}),e.jsx("button",{"data-testid":`dwnlodd-inc-prv-btn-${L}`,onClick:()=>Re(l.id,`${bits.iconURL}/${l}`),type:"button",title:l.name,className:`${T(U.icnBtn)} ${`${bits.iconURL}/${l}`===n.url&&T(U.active)}`,children:e.jsx("img",{src:`${bits.iconURL}/${l}`,alt:`icon-${l}`,width:"40",height:"30"})},`download-icn-${L+Math.random()*5}`)]},`download-icn-${L*2}`))})}),e.jsx("button",{"data-testid":"icn-sav-btn",type:"button",disabled:!n.url,className:T(Qe.btn,U.saveBtn),onClick:Ue,children:"Save"})]}),e.jsx(Ps,{title:"Warning",action:()=>fs(ve),show:je,body:"Are you sure you want to delete this icon? This icon will not be available in the forms where it has been used.",btnTxt:"Okay",close:()=>de(!1)})]})}const U={scrollBar:{scrollBehavior:"auto !important","& *":{scrollBehavior:"auto !important"}},loadingPlaceholder:{w:40,h:40,brs:8,lh:2,my:3,mx:5,dy:"inline-block"},downloadedBtnWrapper:{pn:"relative",dy:"inline-block","&:hover > .trash":{flx:"align-center"}},delBtn:{pn:"absolute",bd:"#ffa1a1",b:"none",brs:20,h:20,dy:"none",w:20,curp:1,rt:-3,tp:-3,":hover":{bd:"#ff7d7d"}},icon:{dy:"inline-block"},chip:{bd:"var(--b-100-48-1)",b:"none",brs:50,p:"6px 16px",cr:"var(--b-37-18)",m:"0px 7px 6px 0px",curp:1,tn:"background .3s",":hover":{bd:"var(--b-90)"}},active:{bd:"var(--b-50) !important",cr:"var(--white-100) !important"},activeIcn:{fr:"invert(100%) sepia(0%) saturate(6403%) hue-rotate(223deg) brightness(126%) contrast(109%)"},icnBtn:{p:"4px",mnw:45,h:45,dy:"inline-grid",placeContent:"center",bd:"transparent",b:"none",brs:8,curp:1,":hover":{bd:"var(--white-0-95)"}},img:{h:25},imgH:{brs:8,h:200},searchBar:{pn:"relative",zx:99},btnColor:{cr:"var(--b-50)"},fields_search:{pn:"relative",ml:7,mr:5,tn:"width .2s",w:"100%"},upBtn:{b:"1px solid var(--b-38-89)",w:"80%",bd:"var(--b-36-96)",fs:20,mx:"auto",h:100,flx:"center",fd:"column",brs:20,mt:10,cr:"var(--b-54-31)",curp:1,":hover":{bd:"var(--b-50-95)"},":focus-visible":{focusShadow:1}},search_icn:{pn:"absolute",tp:"50%",mx:9,lt:0,tm:"translateY(-50%)",cr:"var(--white-0-75)",curp:1,"& svg":{dy:"block"}},search_field:{w:"100%",fw:500,fs:"14px !important",oe:"none",b:"1px solid var(--white-0-75) !important",brs:"20px !important",pl:"35px !important",pr:"5px !important",pb:"5px !important",pt:"5px !important",":focus":{bs:"0px 0px 0px 1.5px var(--b-50) !important",bcr:"var(--b-92-62) !important",pr:"0px !important","& ~ .shortcut":{dy:"none"},"& ~ span svg":{cr:"var(--b-50)"}},"::placeholder":{fs:12},"::-webkit-search-cancel-button":{appearance:"none",w:14,h:14,mr:10,bd:"var(--white-0-83)",curp:1,backgroundPosition:"54% 50% !important",bi:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='Black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E")`,brs:20}},saveBtn:{b:"none",bd:"var(--b-50)",brs:8,fw:500,p:"5px 10px",cr:"var(--white-100)",flxc:1,flx:"center",mt:5,ml:"auto",mr:5,curp:1,tn:"background .3s",":hover:not(:disabled)":{bd:"var(--b-36)"},":disabled":{bd:"var(--b-13-88)",cr:"var(--b-16-35)",cur:"not-allowed"}},imageBtn:{p:0,mxh:200,dy:"block",bd:"none",b:"none",m:5,brs:8,curp:1,":hover":{oe:"4px solid var(--blue)"}},imgWrp:{dy:"flex",flxp:"wrap",jc:"center",w:"100%"},activeImg:{oe:"4px solid var(--blue)"}},ba=({value:s,optIndx:a,type:c,option:t,setOption:i,lblKey:x,valKey:u,imgKey:v,setScrolIndex:j,isRating:y,optKey:g,checkByDefault:h,showUpload:d=!1,hideNDisabledOptions:r})=>{var de,ve,pe,T,oe,ee,re;const{css:f}=xe(),[N,_]=P.useState(!1);O(ne);const $=O(Be),B=O(Is),p=((de=$[B])==null?void 0:de.inpType)==="radio",n="type"in s&&s.type.includes("group")&&s.type.includes("start"),w="type"in s&&s.type.includes("group")&&s.type.includes("end"),m=()=>{if(n||w)return!1;for(let S=a-1;S>=0;S-=1){const A=t[S];if("type"in A&&A.type.includes("end"))return!1;if("type"in A&&A.type.includes("start"))return!0}return!1},o=()=>{const{img:S}=t[0],A=ce(t,I=>{const W=Z(g),he=y?{id:W,[x]:`Option ${W}`,[u]:W,[v]:S}:{id:W,[x]:`Option ${W}`};I.splice(a+1,0,he)});i(A),j(a+1)},E=(S,A,I)=>{const W=ce(t,he=>{he[A][I]=S.target.value});i(W),j(a)},b=(S,A)=>{const I=ce(t,W=>{if(t[S][A]){delete W[S][A];return}W[S][A]=!0});i(I),j(a)},C=S=>{const A=ce(t,I=>{I[a].groupLbl=S.target.value});i(A),j(a)},D=S=>{if(n)return V();const A=[...t];A.splice(S,1),i(A),j(a-1)},V=()=>{const S=[...t];let A=0;for(let I=a;I<S.length;I+=1){if("type"in S[I]&&S[I].type.includes("end")){A+=1;break}A+=1}S.splice(a,A),i(S),j(a-1)},G=()=>{if(n)return H();const S=[...t],A={[x]:`Copy of ${s[x]}`,[u]:s[u]?`Copy of ${s[u]}`:"",id:Z(g)};S.splice(a+1,0,A),i(S),j(a+1)},H=()=>{const S=[...t],A=[ie(k({},S[a]),{id:Z(g),groupLbl:`Copy of ${S[a].groupLbl}`})];for(let I=a+1;I<S.length;I+=1){if("type"in S[I]&&S[I].type.includes("end")){A.push(ie(k({},S[I]),{id:Z(g)}));break}const W={id:Z(g),[x]:`Copy of ${S[I][x]}`,[u]:S[I][u]?`Copy of ${s[u]}`:""};A.push(W)}S.splice(a+A.length,0,...A),i(S),j(a+A.length*2-1)};function Q(S,A){const I=ue([...t]);S.target.checked?I[A].req=!0:delete I[A].req,i(I),j(a)}function q(S,A){const I=ue([...t]);S.target.checked?I[A].disabled=!0:delete I[A].disabled,i(I),j(a)}function je(S,A){const I=ue([...t]);if(c==="radio"||c==="rating"||p){const W=I.find(he=>he.check);W&&delete W.check}S.target.checked?I[A].check=!0:delete I[A].check,i(I),j(a)}return e.jsxs("div",{"data-testid":`sortable-itm-wrp-${a}`,className:f(R.container,(((ve=t[a])==null?void 0:ve.disabled)||((pe=t[a])==null?void 0:pe.hide))&&R.disabled,n?R.groupStart:"",m()?R.groupChild:"",w?R.groupend:""),children:[!w&&e.jsxs("div",{className:f(R.inputContainer),children:[e.jsx("div",{className:"flx",children:e.jsx(Js,{className:f(R.drag)})}),n&&e.jsxs("div",{children:[e.jsx("span",{className:f(F.flxc,F.ml2,F.mr2,R.groupTitle),children:"Group Title"}),e.jsx("input",{type:"text",className:f(R.groupTitleInput),onChange:C,value:s.groupLbl})]}),w&&e.jsx("span",{className:f(F.flxc,F.ml2),style:{height:40},children:`Group ${s.type.split("-")[1]} End`}),!("type"in s)&&e.jsxs(e.Fragment,{children:[d&&e.jsxs("div",{className:f(F.flxc,F.ml2),children:[e.jsx("img",{className:f(R.img),src:(s==null?void 0:s.img)||"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'/>",alt:s==null?void 0:s.img}),e.jsx("button",{className:f(F.m10,R.imgAddBtn),type:"button",onClick:()=>_(!0),children:e.jsx(Bs,{size:"20"})})]}),e.jsx("input",{type:"text",value:s[x],onChange:S=>E(S,a,x),width:140,className:f(R.input)}),e.jsx("input",{type:"text",value:s[u],onChange:S=>E(S,a,u),placeholder:s[x],width:140,className:f(R.input)})]}),e.jsx("div",{className:f(F.flxc),children:e.jsxs(_e,{interactive:!1,children:[!n&&h&&e.jsx(te,{msg:"Check by Default",children:e.jsx(fe,{className:f({se:35,mx:7.5}),checked:s.check!==void 0,onChange:S=>je(S,a)})}),c==="check"&&e.jsx(te,{msg:"Required",children:e.jsx(fe,{checked:s.req!==void 0,className:f({se:35,mx:7.5}),onChange:S=>Q(S,a)})}),(c==="check"||c==="radio")&&c!=="rating"&&e.jsx(te,{msg:"Disabled",children:e.jsx(fe,{checked:s.disabled!==void 0,className:f({se:35,mx:7.5}),onChange:S=>q(S,a)})})]})}),e.jsx("div",{className:`${f(R.action)} acc ${n&&"group-acc"} ${s.req&&"active"}`,children:e.jsxs("div",{className:`${f(F.dyn)} btnIcn`,children:[!r&&e.jsxs(_e,{interactive:!1,children:[e.jsx(te,{whiteSpaceNowrap:!0,className:f({dy:"inline-block"}),msg:`Add Option ${n?"in Group":""}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-grp-${a}`,type:"button",onClick:()=>o(),className:f(R.btn,F.flxc),children:e.jsx("span",{className:f(R.addbtnside),children:e.jsx(Ze,{size:"12",stroke:"4"})})})}),e.jsx(te,{msg:`Clone ${n?"Group":"Option"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-cln-grp-${a}`,type:"button",onClick:()=>G(),className:f(R.btn),children:e.jsx(Es,{size:"18",stroke:"2.5"})})}),e.jsx(te,{msg:`Delete ${n?"Group":"Option"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-dlt-grp-${a}`,type:"button",onClick:()=>D(a),className:f(R.btn),children:e.jsx(As,{size:"18",stroke:"2"})})})]}),r&&e.jsxs(_e,{interactive:!1,children:[e.jsx(te,{whiteSpaceNowrap:!0,className:f({dy:"inline-block"}),msg:`Option ${(T=t[a])!=null&&T.hide?"Hide":"Show"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-grp-${a}`,type:"button",onClick:()=>b(a,"hide"),className:f(R.btn,F.flxc),children:(oe=t[a])!=null&&oe.hide?e.jsx(Vs,{size:"18"}):e.jsx(Ms,{size:"18"})})}),e.jsx(te,{msg:`Field ${(ee=t[a])!=null&&ee.disabled?"Enabled":"Disabled"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-dlt-grp-${a}`,type:"button",onClick:()=>b(a,"disabled"),className:f(R.btn),children:(re=t[a])!=null&&re.disabled?e.jsx(ua,{size:"20"}):e.jsx(Ws,{size:"15"})})})]})]})})]}),e.jsx(Fs,{md:!0,autoHeight:!0,show:N,setModal:()=>_(!1),className:"o-v ",title:Y("Icons"),children:e.jsx(fa,{setModal:_,setOption:i,option:t,optIndx:a,unsplash:!0})})]})};function Ye({optKey:s,options:a,option:c,setOption:t,type:i,isRating:x,lblKey:u,valKey:v,imgKey:j,checkByDefault:y,hasGroup:g,showUpload:h,hideNDisabledOptions:d}){const{css:r}=xe(),[f,N]=P.useState(0);P.useEffect(()=>{t(Te(a,s))},[a]),O(ne);const _=()=>{const{img:p}=c[0]||{},n=[...c],w=Z(s),m=x||i==="image-select"?{id:w,[u]:`Option ${w}`,[v]:w,[j]:p}:{id:w,[u]:`Option ${w}`},o=n.push(m);N(o-1),t(n)},$=()=>{const p=[...c],n=p.filter(o=>{var E,b;return(b=(E=o==null?void 0:o.type)==null?void 0:E.includes)==null?void 0:b.call(E,"start")})||[],w=Z(s),m=p.push({id:Z(s),groupLbl:`Group ${n.length+1}`,type:`group-${n.length+1}-start`},{id:w,[u]:`Option ${w}`},{id:Z(s),type:`group-${n.length+1}-end`});t(p),N(m-1)},B=({oldIndex:p,newIndex:n})=>{const w=c[p],m=Me(c,p,n);if("type"in w){const[,o,E]=w.type.split("-");if(E==="end"){let b=0;for(let C=n-1;C>=0;C-=1)if("type"in m[C]&&m[C].type.includes("start")){if(m[C].type===`group-${o}-start`){b=1;break}if(m[C].type!==`group-${o}-start`)return}if(!b)return}else if(E==="start"){let b=0;for(let C=n+1;C<m.length;C+=1)if("type"in m[C]&&m[C].type.includes("end")){if(m[C].type===`group-${o}-end`){b=1;break}if(m[C].type!==`group-${o}-end`)return}if(!b)return}}t(o=>Me(o,p,n)),N(n)};return e.jsxs(e.Fragment,{children:[e.jsxs(Gs,{onSortEnd:B,useDragHandle:!0,children:[e.jsxs("div",{className:r(R.labelWapper),children:[(i==="image-select"||i==="rating")&&e.jsx("span",{className:r(R.imageLabel),children:"Image"}),e.jsx("span",{className:r(R.propLabel),children:"Label"}),e.jsx("span",{className:r(R.propLabel,{ml:10}),children:"Value"}),e.jsxs("div",{className:r({flxi:"align-center",ml:5}),children:[y&&e.jsx("span",{className:r(R.checkLabel),children:"Check"}),i==="check"&&e.jsx("span",{className:r(R.checkLabel),children:"Require"}),(i==="check"||i==="radio")&&e.jsx("span",{className:r(R.checkLabel),children:"Disable"})]})]}),e.jsx("div",{className:r(R.scroll),children:c.map((p,n)=>e.jsx(Hs,{index:n,children:e.jsx(ba,{optIndx:n,value:c[n],type:i,option:c,setOption:t,lblKey:u,valKey:v,setScrolIndex:N,optKey:s,checkByDefault:y,showUpload:h,hideNDisabledOptions:d,imgKey:j,isRating:x})},`sortable-${c[n].id}`))})]}),e.jsxs("div",{className:`flx ${r({ml:11,mt:7})}`,children:[e.jsxs(Je,{size:"sm",dataTestId:"add-mor-opt-btn",id:"add-more",className:r(R.add_btn),onClick:()=>_(),gap:"3px",children:[Y("Add More"),e.jsx(We,{size:"18",stroke:"2"})]}),g&&e.jsxs(Je,{size:"sm",dataTestId:"add-mor-grp-btn",id:"add-grp",className:r(R.add_btn),onClick:$,gap:"3px",children:[Y("Add Group"),e.jsx(We,{size:"18",stroke:"2"})]})]})]})}const R={labelWapper:{p:"5px 30px 0px",fs:14,fw:500},propLabel:{dy:"inline-block",ta:"center",w:200},imageLabel:{dy:"inline-block",ta:"center",w:50,mr:30},checkLabel:{dy:"inline-block",ta:"center",w:50,ow:"hidden",to:"ellipsis"},disabled:{bd:"hsla(0, 11%, 93%, 100%)"},list:{width:"100%",height:300},container:{flx:"",":hover .acc":{flx:"align-center"},":hover .acc > div":{flx:"align-center"},":hover .acc.group-acc":{flx:"",ai:"flex-end",pb:0}},groupStart:{pt:7,pb:5,bc:"var(--white-0-93)"},groupChild:{pl:25,bc:"var(--white-0-93)"},groupend:{h:20,bc:"var(--white-0-93)"},groupTitle:{fs:10},inputContainer:{flx:"",mnw:560},img:{w:25,h:17,brs:3,bd:"hsla(0, 0%, 0%, 5%)",b:"1px solid rgba(0, 0, 0, 0.05)"},imgAddBtn:{se:25,flx:"center",b:"none",p:3,mr:1,tn:".2s all",curp:1,brs:"50%",bd:"none",":hover":{bd:"var(--b-20-93)",cr:"var(--blue)"}},groupTitleInput:{bc:"transparent !important",b:"0px !important",oe:0,mt:5,":hover":{bc:"var(--white-0-0-12) !important"},":focus":{b:"1px solid #ddd",bc:"var(--white-0-0-12) !important",bs:"none !important"}},input:{p:5,m:5,b:"1px solid rgb(215 215 215)",brs:"8px !important",fs:12,w:200,oe:"none",":focus":{bcr:"var(--blue)",bs:"0 0 0 1px var(--blue)"}},label:{w:175,dy:"inline-block"},btn:{flx:"center",brs:7,curp:1,b:"none",p:0,bd:"none",ml:5,se:35,":hover":{bd:"var(--b-97)",cr:"var(--blue)"}},addbtnside:{dy:"inline-block",tm:"rotate(45deg)"},add_btn:{ml:19,p:5},drag:{cr:"var(--white-0-13)",dy:"inline-block",w:25,h:25,p:5,cur:"move",":hover":{cr:"var(--white-0-0-12)"}},List:{b:"1px solid #d9dddd"},ListItemOdd:{flx:"jc"},ListItemEven:{bc:"#f8f8f0"},action:{pn:"relative",flx:"center","&.active":{flx:"align-center"},"&:hover":{flx:"align-center","& .btnIcn":{flx:"center"}}},actionWrp:{flx:"center"},scroll:{mxh:300,owy:"scroll"}};function La({optionMdl:s,options:a,setOptions:c,type:t,lblKey:i,valKey:x,imgKey:u,isPro:v,isRating:j,checkByDefault:y=!0,hasGroup:g,showUpload:h=!1,onlyVisualOptionsTab:d=!1,hideNDisabledOptions:r=!1,customType:f,setCustomType:N}){const _=P.useRef(1),{css:$}=xe(),[B,p]=P.useState("Visual"),[n,w]=P.useState(""),[m,o]=P.useState(()=>Te(a,_)||[]),[E,b]=P.useState(()=>Oe(Te(a,_),i,x,u));P.useEffect(()=>{if(n||!s){const D=n||B;D==="Visual"&&c(Le(m,i)),D==="Text"&&c(Le(qs(E,_,i,x),i)),w("")}},[n,s]);const C=D=>{p(V=>(w(V),D))};return e.jsxs("div",{className:$(xa.wrapper),children:[v&&!Ee&&e.jsx(Us,{}),d?e.jsx(Ye,{optKey:_,options:a,option:m,setOption:o,type:t,lblKey:i,valKey:x,imgKey:u,checkByDefault:y,isRating:j,hasGroup:g,showUpload:h,hideNDisabledOptions:r}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{options:[{label:"Visual"},{label:"Text"},{label:"Import"}],onChange:D=>C(D),defaultActive:B,wideTab:!0}),B==="Visual"&&e.jsx(Ye,{optKey:_,options:a,option:m,setOption:o,type:t,lblKey:i,valKey:x,imgKey:u,checkByDefault:y,hasGroup:g,isRating:j,showUpload:h,hideNDisabledOptions:r}),B==="Text"&&e.jsx(oa,{options:a,optionTxt:E,setOptionTxt:b,lblKey:i,valKey:x,imgKey:u,isPro:!0}),B==="Import"&&e.jsx(da,{setOptions:c,lblKey:i,valKey:x,setEditOptionType:p,isPro:!0,customType:f,setCustomType:N})]})]})}const xa={wrapper:{scrollBehavior:"auto !important",mt:10,"& *":{scrollBehavior:"auto !important"}}};export{La as E};
