var C=Object.defineProperty;var p=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var f=(r,s,t)=>s in r?C(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t,g=(r,s)=>{for(var t in s||(s={}))F.call(s,t)&&f(r,t,s[t]);if(p)for(var t of p(s))M.call(s,t)&&f(r,t,s[t]);return r};import{v as G,t as N,u as P,a as T,r as l,j as a,S as B,B as L,w as E,_ as U,$ as z}from"./main-677.js";/* empty css          */import{B as D}from"./bf-8-69.js";import{S as O}from"./bf-63-135.js";import{b as R}from"./bf-67-72.js";import{I as $}from"./bf-888-333.js";import V from"./bf-486-268.js";import{h as Z,c as H,b as J}from"./bf-715-393.js";import{G as K}from"./bf-435-394.js";import"./bf-610-73.js";import"./bf-288-77.js";import"./bf-44-197.js";import"./bf-320-401.js";import"./bf-526-402.js";import"./bf-743-127.js";import"./bf-648-122.js";import"./bf-680-336.js";import"./bf-878-130.js";function ge({formFields:r,setIntegration:s,integrations:t,allIntegURL:h}){var u;const y=G(),{formID:b}=N(),k=P(z),{css:_}=T(),[n,m]=l.useState(!1),[i,c]=l.useState(1),[x,o]=l.useState({show:!1}),v=[{key:"email",label:"Email",required:!0},{key:"first_name",label:"First Name",required:!1},{key:"last_name",label:"Last Name",required:!1},{key:"user_id",label:"User Id",required:!1},{key:"owner_id",label:"Owner Id",required:!1},{key:"optin_status",label:"Optin Status",required:!1}],w=[{key:"primary_phone",label:"Primary Phone",required:!1},{key:"street_address_1",label:"Street Address 1",required:!1},{key:"street_address_2",label:"Street Address 2",required:!1},{key:"postal_zip",label:"Postal Zip",required:!1},{key:"city",label:"City",required:!1},{key:"country",label:"Country",required:!1}],I=[{key:"1",label:"Create Contact"},{key:"2",label:"Add tag to user"}],[e,d]=l.useState({name:"Groundhogg",type:"Groundhogg",token:"",public_key:"",id:"",mainAction:"",addTagToUser:"",emailAddress:"",domainName:k.siteURL,showMeta:!1,field_map:[{formField:"",GroundhoggMapField:""}],field_map_meta:[{formField:"",GroundhoggMetaMapField:""}],contactsFields:v,contactMetaFields:w,allActions:I,address_field:[],actions:{}}),S=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),e.mainAction==="1"&&!H(e)){o({show:!0,msg:"Please map fields to continue."});return}if(e.showMeta&&!J(e)){o({show:!0,msg:"Please map fields to continue."});return}e.listId!==""&&c(3)},j=!(e.mainAction==="2"&&e.addTagToUser!==""),q=()=>{R(t,s,h,e,y)};return a.jsxs("div",{children:[a.jsx(B,{snack:x,setSnackbar:o}),a.jsx("div",{className:"txt-center w-9 mt-2 cal-width",children:a.jsx(O,{step:3,active:i})}),a.jsx(V,{formID:b,groundhoggConf:e,setGroundhoggConf:d,step:i,setstep:c,isLoading:n,setIsLoading:m,setSnackbar:o}),a.jsxs("div",{className:"btcd-stp-page",style:g({},i===2&&{width:900,height:"auto",overflow:"visible"}),children:[a.jsx(K,{formFields:r,handleInput:A=>Z(A,e,d),groundhoggConf:e,setGroundhoggConf:d,isLoading:n,setIsLoading:m,setSnackbar:o}),a.jsxs(L,{variant:"success",onClick:()=>S(),disabled:(e.mainAction==="2"?j:!(((u=e.field_map)==null?void 0:u.length)>=1))||n,className:_(E.mt3,{ml:3}),children:[U("Next"),"Â ",a.jsx(D,{className:"ml-1 rev-icn"})]})]}),a.jsx($,{step:i,saveConfig:()=>q()})]})}export{ge as default};
